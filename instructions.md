ğŸ“˜ Enterprise RFP OS â€” Project Instruction (v2025.12.02)
Section 1. í”„ë¡œì íŠ¸ ì •ì˜ ë° í•µì‹¬ ê°€ì¹˜ (General & Philosophy)
ë¬¸ë§¥(Context): ì´ ì„¹ì…˜ì€ ê°œë°œì˜ **ëŒ€ì›ì¹™(Rule)**ì´ì **ë°©í–¥ì„±(Compass)**ì…ë‹ˆë‹¤. ê¸°ìˆ ì  ì˜ì‚¬ê²°ì • ì‹œ ì´ ì›ì¹™ì— ìœ„ë°°ë˜ëŠ” ì½”ë“œëŠ” ì‘ì„±í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

1-1. í”„ë¡œì íŠ¸ ì •ì˜ (Mission)
â€œZero Setup â†’ Guided Control â†’ Verified Confidenceâ€

ì´ ì œí’ˆì€ ë‹¨ìˆœ RAG ì±—ë´‡ì´ ì•„ë‹ˆë¼, ê¸°ì—…ì˜ RFP ì œì•ˆì„œ ì‘ì„±ì„ ìœ„í•´ ì„¤ê³„ëœ **ì—”í„°í”„ë¼ì´ì¦ˆ ì§€ì‹ ìš´ì˜ì²´ì œ(OS)**ë‹¤.

ì‚¬ìš©ìê°€ ë¬¸ì„œë¥¼ â€œì—…ë¡œë“œâ€ í•˜ë©´:

AIê°€ ë¶„ì„ ë° ì¶©ëŒ ê°ì§€

ì¤‘ìš” 1~2ê°œë§Œ ì‚¬ìš©ìì—ê²Œ ìŠ¹ì¸ ìš”êµ¬

ê²€ì¦ëœ ì§€ì‹ AnswerCardë¡œ ìì‚°í™”

RFP ìš”êµ¬ì‚¬í•­ íŒŒì‡„ ë° ë§¤í•‘

Proposal Skeleton ìë™ ìƒì„±

ëª¨ë“  ê³¼ì •ì€ Audit Logë¡œ ì¶”ì  ê°€ëŠ¥

1-2. ê°œë°œ 5ëŒ€ ëŒ€ì›ì¹™ (Prime Directives)
Trust over Magic: ìë™í™”ë³´ë‹¤ ë” ì¤‘ìš”í•œ ê²ƒì€ ìš´ì˜ìê°€ í†µì œí•˜ê³  ìˆë‹¤ê³  ëŠë¼ê²Œ í•˜ëŠ” UXë‹¤. "ì•Œì•„ì„œ í–ˆìŠµë‹ˆë‹¤"ë³´ë‹¤ "ì´ê²ƒì„ ìŠ¹ì¸í•˜ì‹œê² ìŠµë‹ˆê¹Œ?"ê°€ ë” ë‚«ë‹¤.

Bulletproof Anchoring (í˜„ì‹¤ì  3ì¤‘ ë³´í˜¸):

Semantic (í•´ì‹œ/ë¬¸ì¥ ê¸°ë°˜) â€” 1ìˆœìœ„

Structure (ì„¹ì…˜ ê²½ë¡œ) â€” ìˆìœ¼ë©´ ì‚¬ìš©

Layout (BBox/page) â€” ì‚¬ìš© ê°€ëŠ¥í•  ë•Œë§Œ

ê²°ë¡ : íŒŒì‹±ì— ì‹¤íŒ¨í•´ë„ ìµœì†Œí•œ Semantic AnchorëŠ” ë°˜ë“œì‹œ ì‚´ì•„ìˆì–´ì•¼ í•œë‹¤.

Risk-Aware Evolution: Answer Variant(ë³€í˜• ë‹µë³€)ëŠ” ê²½ìŸí•˜ì§€ë§Œ, íŒ©íŠ¸ ìœ„ë°˜ì´ë‚˜ ê³¼ì¥ëœ í‘œí˜„ì€ Gateì—ì„œ ìë™ ì°¨ë‹¨ëœë‹¤.

Project-First Architecture: ì •ë‹µ(Answer)ì´ ì•„ë‹ˆë¼ **í”„ë¡œì íŠ¸(RFP)**ê°€ 1ê¸‰ ì‹œë¯¼ì´ë‹¤. Context ì—†ëŠ” ì§€ì‹ì€ ë¬´ì˜ë¯¸í•˜ë‹¤.

Auditable by Design: ì—”í„°í”„ë¼ì´ì¦ˆì—ì„œëŠ” ê¸°ëŠ¥ë³´ë‹¤ **â€œëˆ„ê°€ ë¬´ì—‡ì„ ìŠ¹ì¸í–ˆëŠ”ì§€â€**ê°€ ë” ì¤‘ìš”í•˜ë‹¤.

1-3. í•µì‹¬ ê°€ì¹˜ ì œì•ˆ (Core Value Proposition)
ğŸ›¡ï¸ Rapid Trust Calibration (Guided Onboarding): "5ë¶„ ì˜¨ë³´ë”©" íê¸°. AIê°€ 98%ë¥¼ ìë™ ì²˜ë¦¬í•˜ê³ , ê²°ì •ì ì¸ 2%ë§Œ ì‚¬ìš©ì ìŠ¹ì¸ì„ ë°›ì•„ "í†µì œê°"ì„ ì£¼ëŠ” Smart Onboarding.

âš“ Source-Anchored Knowledge Block: AnswerCardëŠ” ë‹¨ìˆœ í…ìŠ¤íŠ¸ê°€ ì•„ë‹ˆë¼ **"ì›ë³¸ ë¬¸ì„œì™€ ì‹¤ì‹œê°„ ì—°ê²°ëœ ê°ì²´(Figma-style)"**ì´ë‹¤.

ğŸ§¬ Controlled Darwinian Evolution: ë‹µë³€ì€ ì§„í™”í•œë‹¤. ë‹¨, ìŠ¹ì¸ì€ Managerë§Œ ê°€ëŠ¥í•˜ë©°, Fact ìœ„ë°˜ ì‹œ High Riskë¡œ ì°¨ë‹¨ëœë‹¤.

ğŸ—‚ï¸ Project Context Awareness: RFPì˜ ì‚°ì—…/ê¸°ê´€/ê¸°ì¤€ì— ë”°ë¼ ë‹µë³€ì˜ ì¶”ì²œ, í†¤, êµ¬ì„±ì´ ë‹¬ë¼ì§„ë‹¤.

ğŸ§© Proposal Assembly: ì œì•ˆì„œ ìŠ¤ì¼ˆë ˆí†¤(ëª©ì°¨+ë‚´ìš©)ì„ í…œí”Œë¦¿ ê¸°ë°˜ìœ¼ë¡œ ìë™ ìƒì„±í•˜ê³  ì¹´ë“œë¥¼ ë°°ì¹˜í•œë‹¤.

ğŸ” Auditability: ëª¨ë“  ìŠ¹ì¸, ê±°ì ˆ, í¸ì§‘, ì—…ë°ì´íŠ¸ëŠ” ê°ì‚¬ ëª¨ë“œì—ì„œ ì¶”ì  ê°€ëŠ¥í•˜ë‹¤.

----------------------------------------------------------------

Section 2. ê¸°ìˆ  ìŠ¤í™ ë° ì•„í‚¤í…ì²˜ (Technical Specifications)
ë¬¸ë§¥(Context): ì´ ì„¹ì…˜ì€ **êµ¬í˜„(Implementation)**ì„ ìœ„í•œ êµ¬ì²´ì ì¸ ëª…ì„¸ì…ë‹ˆë‹¤. ë³€ìˆ˜ëª…, ë°ì´í„° êµ¬ì¡°, ë””ë ‰í† ë¦¬ êµ¬ì¡°ëŠ” ì´ ê¸°ì¤€ì„ ì—„ê²©íˆ ë”°ë¦…ë‹ˆë‹¤.

2-1. ê¸°ìˆ  ìŠ¤íƒ (Tech Stack)
Backend: Python 3.11 / FastAPI  
        (ì»¨í…Œì´ë„ˆ ê¸°ë°˜, AWS App Runnerì— ë°°í¬. í•„ìš” ì‹œ AWS ECS Fargateë¡œ ì´ì „ ê°€ëŠ¥)

Frontend: React + Vite

DB: PostgreSQL + pgvector + pg_trgm + JSONB

Storage: AWS S3 (ì›ë³¸ ì˜êµ¬ ë³´ì¡´)

AI Models:

 -Drafting: gpt-4o-mini

 -Embedding: text-embedding-3-small

Security: Multi-tenancy (Workspace â†’ Group â†’ Project)

2-2. ë°ì´í„° ëª¨ë¸ë§ (Schema)
ì•„ë˜ êµ¬ì¡°ëŠ” JSON/Python Dict í˜•íƒœë¡œ í‘œí˜„ëœ DB ìŠ¤í‚¤ë§ˆ ëª…ì„¸ì„.

A. Project (1ê¸‰ ì‹œë¯¼)

JSON

project {
  "id": "UUID",
  "workspace": "personal | team",
  "group_id": "UUID",
  "name": "2024_êµ­ë°©RFP",
  "industry": "defense",
  "rfp_type": "technical",
  "evaluation_criteria": { ... },
  "required_documents": [ ... ],
  "prohibited_phrases": [ ... ],
  "created_at": "timestamp",
  "owner_id": "UUID",
  "status": "active | archived | completed",
  "deadline": "timestamp (ISO 8601)",
  "description": "text (Project Summary extracted from RFP)"
}
B. RFP Requirement (Auto Shredding)

JSON

rfp_requirement {
  "id": "UUID",
  "project_id": "UUID",
  "requirement_text": "text",
  "requirement_type": "security | ops | ...",
  "compliance_level": "YES | PARTIAL | NO",
  "linked_answer_cards": ["UUID", ...],
  "linked_answer_cards": ["UUID", ...],
  "anchor_confidence": 0.88, // 0.0 if generated by AI (No source match)
  "status": "pending | approved | rejected"
}
C. AnswerCard (Source-Anchored, Evolvable Block)

JSON

answer_card {
  "id": "UUID",
  "project_id": "UUID (nullable, origin tracking)",
  "topic": "ë³´ì•ˆ ì¸ì¦",
  "anchors": [
    {
      "content_hash": "SHA256...",
      "text_snippet": "ISO27001",
      "anchor_confidence": 0.93,
      "doc_id": "uuid",
      "section_path": "3.1 ë³´ì•ˆ",
      "page": 5,
      "bbox": [100, 200, 500, 350],
      "fail_reasons": ["layout_parse_failed"]
    }
  ],
  "facts": {
    "sla": 99.5,
    "cert": "ISO27001"
  },
  "variants": [
    {
      "content": "ìš°ë¦¬ëŠ” ISO27001 ì¸ì¦ì„ ë³´ìœ í•˜ê³  ìˆìŠµë‹ˆë‹¤.",
      "context": "public-sector",
      "status": "APPROVED",
      "risk_level": "SAFE",
      "usage_count": 50,
      "approved_by": "manager@corp.com"
    },
    {
      "content": "ë‹¹ì‚¬ SLA 100% ë³´ì¥!",
      "context": "sales_pitch",
      "status": "REJECTED",
      "risk_level": "HIGH"
    }
  ]
}
D. Proposal Template & Audit Log

JSON

proposal_template {
  "id": "UUID",
  "industry": "public",
  "section_order": [
    { "id": "company_overview", "recommended_cards": [...] }
  ]
}

audit_log {
  "id": "UUID",
  "entity_type": "answer_card | variant | conflict | upload",
  "entity_id": "UUID",
  "action": "approve | reject | edit | upload",
  "user_id": "string",
  "timestamp": "timestamp",
  "diff_snapshot": { ... }
}

E. Document (Source File & Folder)

JSON

document {
  "id": "UUID",
  "workspace": "personal | team",
  "group_id": "UUID",
  "title": "filename.pdf or FolderName",
  "s3_key_raw": "string (nullable for folders)",
  "sha256": "string",
  "created_at": "timestamp",
  "parent_id": "UUID (nullable, self-reference)",
  "is_folder": "boolean (default false)"
}

> [!NOTE] Design Decision: Unified Document Table
> **Physical Storage**: All documents (Source Docs & Project RFPs) are stored in this single table to reuse parsing/embedding logic.
> **Logical Separation**:
> - **Source Documents**: Managed in Knowledge Hub. Can use folders (`is_folder=true`). `group_id` is typically NULL or a Library ID.
> - **Project RFPs**: Managed in Project Workspace. **Always Flat** (`is_folder=false`). `group_id` links to the Project ID.
>
> **Duplicate Policy**:
> - The database allows duplicate file hashes (`sha256`) within the same workspace to support the same file being used in multiple projects.
> - Application logic (`ingest.py`) handles deduplication within a specific scope (Project or Knowledge Hub).
2-3. í•µì‹¬ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ (Pipelines)
Step 1 - Zero Ingestion: ì—…ë¡œë“œ ì¦‰ì‹œ ë¶„ì„ ì‹œì‘. UIëŠ” "ë‚ ì§œ ì¶”ì¶œ ì¤‘...", "ì„¹ì…˜ ë¶„ì„ ì¤‘..." ì‹¤ì‹œê°„ í‘œì‹œ.

Step 2 - Conflict Detection (Batch Resolver): íŒì—… ë‚œë°œ ê¸ˆì§€. ì—‘ì…€ í˜•íƒœì˜ Batch Resolver UIì—ì„œ ì¶©ëŒ ëª©ë¡ì„ ë³´ì—¬ì£¼ê³ , ì‚¬ìš©ìê°€ ì¼ê´„ ì„ íƒ/ì ìš©í•œë‹¤. (Default Policyë¡œ ê°€ëŠ¥í•œ ê±´ ìë™ ì²˜ë¦¬).

Step 3 - AnswerCard Generation: 3ì¤‘ ë ˆì´ì–´ Anchor ìƒì„±. Semantic AnchorëŠ” 100% ë³´ì¥, Structure/Layoutì€ Best Effort.

Step 4 - Requirement Shredding (On-Demand): ë¹„ìš© í†µì œë¥¼ ìœ„í•´ ì—…ë¡œë“œ ì‹œ ìë™ ì‹¤í–‰í•˜ì§€ ì•ŠìŒ. "ìš”êµ¬ì‚¬í•­ ë¶„ì„í•˜ê¸°" ë²„íŠ¼ í´ë¦­ ì‹œ ì‹¤í–‰. RFPì—ì„œ ìš”êµ¬ì‚¬í•­ë¿ë§Œ ì•„ë‹ˆë¼ **í”„ë¡œì íŠ¸ ìš”ì•½(Summary)**ê³¼ **ë§ˆê°ì¼(Deadline)**ë„ í•¨ê»˜ ì¶”ì¶œí•˜ì—¬ í”„ë¡œì íŠ¸ ë©”íƒ€ë°ì´í„°ì— ì €ì¥í•¨.

Step 5 - Compliance Matrix: Requirementì™€ AnswerCard ë§¤í•‘ ë° Coverage ê³„ì‚°. ë¶€ì¡±í•˜ë©´ RAGë¡œ í›„ë³´ ìƒì„±.

Step 6 - Proposal Assembly: Template ê¸°ë°˜ ì´ˆì•ˆ ìƒì„±. APPROVED Variant ìš°ì„  ë°°ì¹˜, High Risk Variant ë°°ì œ.

2-4. ë””ë ‰í„°ë¦¬ êµ¬ì¡°
Plaintext

app/
 â”œâ”€ routes/               # API Endpoints
 â”œâ”€ services/
 â”‚    â”œâ”€ ingest.py        # íŒŒì‹± + Conflict Detection Logic
 â”‚    â”œâ”€ anchor_engine.py # Soft Anchoring + Confidence Calc
 â”‚    â”œâ”€ shredder.py      # On-Demand Requirement Shredding
 â”‚    â”œâ”€ answers.py       # Variant Ranking + Risk Gating
 â”‚    â”œâ”€ proposal.py      # Proposal Assembly Engine
 â”‚    â”œâ”€ guardrail.py     # Fact-based Risk Filter
 â”œâ”€ models/               # Pydantic & ORM Models
 â”‚    â”œâ”€ project.py
 â”‚    â”œâ”€ rfp_requirement.py
 â”‚    â”œâ”€ answer_card.py
 â”‚    â”œâ”€ audit_log.py
 â””â”€ utils/
      â”œâ”€ semantic_hash.py
      â”œâ”€ default_policies.py
      â””â”€ pdf_hwp_parser.py

----------------------------------------------------------------    

Section 3. UI/UX ë””ìì¸ ìŠ¤í™ (User Interface Specifications)

ë¬¸ë§¥(Context): ì´ ì„¹ì…˜ì€ ì‚¬ìš©ìê°€ ê²½í—˜í•  í™”ë©´ê³¼ ì¸í„°ë™ì…˜ì˜ ê¸°ì¤€ì…ë‹ˆë‹¤. **"í¸ì§‘ ë„êµ¬(Editor)"ê°€ ì•„ë‹Œ "ë¶„ì„ ë° ìì‚°í™” ë„êµ¬(Analyzer & Asset Manager)"**ë¡œì„œì˜ ì •ì²´ì„±ì„ í™•ë¦½í•©ë‹ˆë‹¤.

3-1. ë””ìì¸ ì² í•™ (Design Philosophy)
Sanitized Professionalism (ì •ì œëœ ì „ë¬¸ì„±):

ë³µì¡í•œ ë²„íŠ¼ì´ ë‚˜ì—´ëœ ê¸°ì¡´ B2B ERP ìŠ¤íƒ€ì¼ì„ ì§€ì–‘í•©ë‹ˆë‹¤.

Google Workspace / Notionê³¼ ìœ ì‚¬í•œ White & Light Gray ë² ì´ìŠ¤ì— Blue Primary (#0B57D0)ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‹ ë¢°ê°ê³¼ ì²­ê²°í•¨ì„ ì¤ë‹ˆë‹¤.

Navigator, Not Editor (ì‘ì„±í•˜ì§€ ì•Šê³  ê²°ì •í•œë‹¤):

ì‚¬ìš©ìëŠ” ì´ê³³ì—ì„œ ë¬¸ì¥ì„ ì‘ì„±í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. AIê°€ ì°¾ì•„ë‚¸ ê²ƒì„ **"ìŠ¹ì¸(Approve)"**í•˜ê±°ë‚˜ **"ë‚´ë³´ë‚´ê¸°(Export)"**í•  ë¿ì…ë‹ˆë‹¤.

ë”°ë¼ì„œ UIì˜ í•µì‹¬ì€ Input Fieldê°€ ì•„ë‹ˆë¼ Decision Button (O/X)ê³¼ Export Actionì…ë‹ˆë‹¤.

Trust Visualization (ê³¼ì •ì˜ ì‹œê°í™”):

"ë¡œë”© ì¤‘..." ìŠ¤í”¼ë„ˆ ëŒ€ì‹ , **"3ë‹¨ê³„ íŒŒì‹± ì¤‘...", "ìœ ì‚¬ ë‹µë³€ ê²€ìƒ‰ ì¤‘..."**ê³¼ ê°™ì´ AIì˜ ì‚¬ê³  ê³¼ì •ì„ í…ìŠ¤íŠ¸ì™€ ìŠ¤í…í¼(Stepper)ë¡œ íˆ¬ëª…í•˜ê²Œ ë³´ì—¬ì¤ë‹ˆë‹¤.

3-2. ì •ë³´ êµ¬ì¡° (Information Architecture - App Shell)
í™”ë©´ì€ ì¢Œì¸¡ ê³ ì •ëœ **ì‚¬ì´ë“œë°”(LNB)**ì™€ ìš°ì¸¡ ë©”ì¸ ì›Œí¬ìŠ¤í˜ì´ìŠ¤ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤.

A. ì¢Œì¸¡ ì‚¬ì´ë“œë°” (LNB - Gemini Style)

í­: 260px (Collapsible)

ë°°ê²½: #F7F7F8 (Light Gray)

êµ¬ì¡°:

Top (Action):

[+ New Project] ë²„íŠ¼ (Primary Blue Button). í´ë¦­ ì‹œ ìš°ì¸¡ í™”ë©´ì´ 'Landing/Upload'ë¡œ ì „í™˜.

Middle (Context - Scrollable):

Recent Projects í—¤ë”.

í”„ë¡œì íŠ¸ ë¦¬ìŠ¤íŠ¸ (ì˜ˆ: ğŸ“„ 2025_êµ­ë°©ê´‘ëŒ€ì—­_ì œì•ˆ, ğŸ“„ ê¸ˆìœµê·¸ë£¹_Cloud_RFP...).

í´ë¦­ ì‹œ ìš°ì¸¡ í™”ë©´ì— í•´ë‹¹ í”„ë¡œì íŠ¸ì˜ 'ê²°ê³¼ í…Œì´ë¸”' ë¡œë“œ.

Bottom (Management - Fixed):

Divider (êµ¬ë¶„ì„ )

ğŸ›ï¸ Knowledge Hub

ğŸ“š Answer Library (ë‹µë³€ ì¹´ë“œ ê´€ë¦¬)

ğŸ“‚ Source Documents (ì›ë³¸ ë¬¸ì„œ ê´€ë¦¬)

âš™ï¸ Admin & Team (ë©¤ë²„ ì´ˆëŒ€ ë° ê¶Œí•œ)

ğŸ‘¤ User Profile

3-3. í•µì‹¬ í™”ë©´ ìƒì„¸ ìŠ¤í™ (Key Screen Specs)
1. Landing & Onboarding (New Project Wizard)

ì§„ì…: [+ New Project] í´ë¦­ ì‹œ.

ë ˆì´ì•„ì›ƒ: ì¤‘ì•™ ì •ë ¬, ì—¬ë°±ì´ ë§ì€ Clean View.

êµ¬ì„±:

Hero Message: "RFP ë¶„ì„ì„ ì‹œì‘í•©ë‹ˆë‹¤. íŒŒì¼ì„ ì—…ë¡œë“œí•˜ì„¸ìš”."

Drop Zone: ì ì„  ë°•ìŠ¤, íŒŒì¼ ë“œë˜ê·¸ ì•¤ ë“œë¡­ (PDF/HWP/DOCX).

Sample Trigger: "ìƒ˜í”Œ íŒŒì¼ë¡œ ë¶„ì„ ê²°ê³¼ ë¯¸ë¦¬ë³´ê¸°" í…ìŠ¤íŠ¸ ë§í¬.

Interaction (Analysis State):

íŒŒì¼ ì—…ë¡œë“œ ì¦‰ì‹œ ì¤‘ì•™ì— Progress Stepper ë“±ì¥.

Step 1: í…ìŠ¤íŠ¸ ì¶”ì¶œ (Extraction)

Step 2: ìš”êµ¬ì‚¬í•­ íŒŒì‡„ (Shredding)

Step 3: ì§€ì‹ ë§¤ì¹­ (Matching)

íŠ¹ì´ì‚¬í•­: ì¶©ëŒ(Conflict) ë°œìƒ ì‹œ ì ì‹œ ë©ˆì¶”ê³  ì‚¬ìš©ìì—ê²Œ "ë²„ì „ ì„ íƒ ëª¨ë‹¬" ì œì‹œ.

2. Project Workspace (Result Table)

ì§„ì…: ë¶„ì„ ì™„ë£Œ ì§í›„ ë˜ëŠ” LNBì—ì„œ í”„ë¡œì íŠ¸ í´ë¦­ ì‹œ.

ë ˆì´ì•„ì›ƒ: Data Grid (Table) ì¤‘ì‹¬. í¸ì§‘ê¸°ê°€ ì•„ë‹˜.

ìƒë‹¨ í—¤ë”:

í”„ë¡œì íŠ¸ëª…, D-Day.

Export Group: [Excel], [Word] ì•„ì´ì½˜ ë²„íŠ¼ (ê°€ì¥ ì¤‘ìš”).

ë©”ì¸ í…Œì´ë¸” (Requirements Matrix):

Status: ğŸŸ¢(ì™„ë£Œ), ğŸŸ¡(ê²€í†  í•„ìš”), ğŸ”´(ë‹µë³€ ì—†ìŒ).

Requirement: RFP ì›ë¬¸ ìš”êµ¬ì‚¬í•­ (í´ë¦­ ì‹œ ì›ë¬¸ íŒì—…).

AI Suggestion: ë§¤ì¹­ëœ ë‹µë³€ ìš”ì•½ (1~2ì¤„).

Source: ê·¼ê±° ë¬¸ì„œ ë±ƒì§€ (ì˜ˆ: [ì œì•ˆì„œ_v2.pdf, p.45]).

Score: ì í•©ë„ % (Progress Bar).

Slide-over Panel (Detail View):

í…Œì´ë¸” í–‰(Row) í´ë¦­ ì‹œ ìš°ì¸¡ì—ì„œ ìŠ¬ë¼ì´ë“œ íŒ¨ë„ ë“±ì¥.

ìƒì„¸ ë‹µë³€ ë‚´ìš©, ì „ì²´ í…ìŠ¤íŠ¸, Alternative Variants(ë‹¤ë¥¸ ë²„ì „ ë‹µë³€) ì„ íƒ ê°€ëŠ¥.

[Approve] / [Reject] ë²„íŠ¼ìœ¼ë¡œ ìƒíƒœ ë³€ê²½.

3. Knowledge Hub Manager (Asset Management)

ì§„ì…: LNB > Knowledge Hub í´ë¦­.

êµ¬ì„± (Tabs):

Tab A: Answer Library

ì¹´ë“œí˜•(Grid) ë˜ëŠ” ë¦¬ìŠ¤íŠ¸í˜•(List) ë·°.

ê²€ìƒ‰ì°½ (í‚¤ì›Œë“œ/í•´ì‹œíƒœê·¸).

ê°œë³„ ì¹´ë“œ í´ë¦­ ì‹œ ìˆ˜ì • ëª¨ë‹¬ (ë‹µë³€ ë‚´ìš© í¸ì§‘ ë° ìŠ¹ì¸ê¶Œì ì§€ì •).

Tab B: Source Documents

íŒŒì¼ íƒìƒ‰ê¸° ìŠ¤íƒ€ì¼.

ì—…ë¡œë“œëœ ë¬¸ì„œ ëª©ë¡, íŒŒì‹± ìƒíƒœ, ì—…ë¡œë“œ ë‚ ì§œ.

ê¸°ëŠ¥: [Re-Parse](ì¬ë¶„ì„), [Delete](ì‚­ì œ).

4. Admin & Team (Settings)

ì§„ì…: LNB > Admin & Team í´ë¦­.

êµ¬ì„±:

Member Management:

ì´ˆëŒ€ í•„ë“œ (ì´ë©”ì¼ ì…ë ¥ + [Invite] ë²„íŠ¼).

ë©¤ë²„ ë¦¬ìŠ¤íŠ¸ í…Œì´ë¸”: ì´ë¦„ | ì´ë©”ì¼ | ê¶Œí•œ(Role) | ìƒíƒœ.

Role: Admin (ì„¤ì • ê°€ëŠ¥), Manager (ìŠ¹ì¸ ê°€ëŠ¥), Viewer (ë³´ê¸°ë§Œ ê°€ëŠ¥).

Policy & Guardrails:

ê¸ˆì§€ì–´(Blacklist) ê´€ë¦¬.

High Risk í‚¤ì›Œë“œ ì„¤ì •.

Usage: í˜„ì¬ í† í° ì‚¬ìš©ëŸ‰ ë° ì˜ˆìƒ ë¹„ìš© ëŒ€ì‹œë³´ë“œ.

3-4. ì‹œê°ì  ìŠ¤íƒ€ì¼ ê°€ì´ë“œ (Visual Style)
Color Palette:

Primary: Azure Blue #0B57D0 (Action Button, Active State).

Background: Off-White #FFFFFF (Main), #F7F7F8 (Sidebar/Background).

Text: #1F1F1F (Heading), #424242 (Body), #9AA0A6 (Placeholder).

Semantic:

Success (Approved): #0E7A4E (Green)

Warning (Review Needed): #EFB81A (Yellow)

Error/Risk (Rejected): #D0362D (Red)

Typography:

System Font Stack (San Francisco, Segoe UI, Noto Sans KR).

ê°€ë…ì„± ìµœìš°ì„ : ë°ì´í„° í…Œì´ë¸” ë‚´ í°íŠ¸ ì‚¬ì´ì¦ˆëŠ” 13px~14pxë¡œ ë°€ë„ ìˆê²Œ ìœ ì§€.

Component:

ëª¨ë“  ì»¨í…Œì´ë„ˆëŠ” Border-radius: 8px (ë¶€ë“œëŸ¬ìš´ ì‚¬ê°í˜•).

ê·¸ë¦¼ì(Shadow)ëŠ” ìµœì†Œí™”í•˜ê³  Border (#E0E0E0)ë¡œ êµ¬íš êµ¬ë¶„.
----------------------------------------------------------------

Section 4. ì‹¤í–‰ ë¡œë“œë§µ ë° ìƒíƒœ ê´€ë¦¬ (Roadmap & Milestones)
[ğŸ¤– AI Interaction Rule]:

ì´ ì„¹ì…˜ì€ í”„ë¡œì íŠ¸ì˜ ì§„ì²™ë„(Progress Bar) ì—­í• ì„ í•©ë‹ˆë‹¤.

AIëŠ” í•˜ë‚˜ì˜ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ê³ , í…ŒìŠ¤íŠ¸ê°€ í†µê³¼ë˜ì—ˆìŒì„ í™•ì¸í•˜ë©´ í•´ë‹¹ í•­ëª©ì˜ ì²´í¬ë°•ìŠ¤ë¥¼ [ ]ì—ì„œ **[x]**ë¡œ ë³€ê²½í•´ì•¼ í•©ë‹ˆë‹¤.

ê°œë°œ ì‹œì‘ ì „, í•­ìƒ ì´ ì„¹ì…˜ì„ ì½ì–´ **í˜„ì¬ ë‹¨ê³„(Current Phase)**ì™€ **ë‹¤ìŒ ì‘ì—…(Next Task)**ì„ íŒŒì•…í•˜ì‹­ì‹œì˜¤.

ìˆœì„œë¥¼ ê±´ë„ˆë›°ì§€ ë§ˆì‹­ì‹œì˜¤. ì˜ì¡´ì„±(Dependency)ì´ ìœ„ì—ì„œ ì•„ë˜ë¡œ íë¦…ë‹ˆë‹¤.

4-0. Phase 0: ì•„í‚¤í…ì²˜ ì´ê´€ ë° ê¸°ë°˜ ê³µì‚¬ (Migration & Foundation)
Goal: ê¸°ì¡´ ì½”ë“œë¥¼ ë³´ì¡´í•˜ë©´ì„œ, Enterprise Schema(Project, AnswerCard)ê°€ ë“¤ì–´ê°ˆ ìë¦¬ë¥¼ ë§ˆë ¨í•©ë‹ˆë‹¤.

DB & Schema Design

[x] Project Table ì‹ ì„¤: models/project.py ìƒì„± ë° projects í…Œì´ë¸” ë§ˆì´ê·¸ë ˆì´ì…˜. (ê¸°ì¡´ ë°ì´í„°ëŠ” 'Default Project'ë¡œ ë§¤í•‘)

[x] AnswerCard Table ì—…ê·¸ë ˆì´ë“œ: answers í…Œì´ë¸”ì„ models/answer_card.pyë¡œ ê³ ë„í™”.

[x] anchors (JSONB) ì»¬ëŸ¼ ì¶”ê°€

[x] variants (JSONB) ì»¬ëŸ¼ ì¶”ê°€

[x] facts (JSONB) ì»¬ëŸ¼ ì¶”ê°€

[x] project_id (UUID) ì»¬ëŸ¼ ì¶”ê°€ (Origin Tracking)

[x] RFP Requirement Table ì‹ ì„¤: models/rfp_requirement.py ìƒì„±.

[x] Audit Log Table ì‹ ì„¤: models/audit_log.py ìƒì„±.

Legacy Code Refactoring

[x] Dependencies Update: olefile, pyhwp, pdfplumber ë“± íŒŒì‹± ê´€ë ¨ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì¶”ê°€.

[x] Service Layer ë¶„ë¦¬: ê¸°ì¡´ services/ í´ë” ë‚´ ë¡œì§ì„ ingest, answers, search ë“± ì—­í• ë³„ë¡œ ì¬ì •ë¹„.

4-1. Phase 1: MVP Core - "Guided Control" Pipeline (Weeks 1-3)
Goal: "íŒŒì¼ ì—…ë¡œë“œ â†’ ì¶©ëŒ í•´ê²° â†’ 3ì¤‘ ì•µì»¤ë§ â†’ AnswerCard ìƒì„±"ê¹Œì§€ì˜ í•µì‹¬ íë¦„ ì™„ì„±.

Backend: Ingestion & Parsing Engine

[x] Advanced Parser êµ¬í˜„: utils/pdf_hwp_parser.py ì‘ì„±.

[x] PDF Layout/Section ì¶”ì¶œ ë¡œì§ (Best Effort)

[x] Semantic Hash(SHA256) ìƒì„± ë¡œì§

[x] Conflict Detection Service: services/ingest.py

[x] ë‚ ì§œ/ë²„ì „ íŒŒì‹± ë¡œì§ êµ¬í˜„

[x] ë¬¸ì„œ ê°„ ìœ ì‚¬ë„ ë° ì¶©ëŒ ê°ì§€ ë¡œì§ êµ¬í˜„

[x] ì‚¬ìš©ì ê°œì…ì´ í•„ìš”í•œ "Conflict List" ë¦¬í„´ API ì‘ì„±

Backend: Knowledge Management

[x] AnswerCard CRUD API: ì•µì»¤ì™€ ë³€í˜•(Variant)ì„ í¬í•¨í•œ ìƒì„±/ì¡°íšŒ/ìˆ˜ì • API.

[x] Fact-based Risk Gating: services/guardrail.py

[x] Factì™€ Variant ë‚´ìš©ì„ ë¹„êµí•˜ì—¬ Risk Level (Safe/High) íŒë³„í•˜ëŠ” LLM ë¡œì§.

Frontend: Guided Onboarding UX

[x] Smart Uploader UI: íŒŒì¼ ì—…ë¡œë“œ ì‹œ ì‹¤ì‹œê°„ ë¶„ì„ ìƒíƒœ(Progress) í‘œì‹œ ì»´í¬ë„ŒíŠ¸ (`OnboardingWizardPage` ì—°ë™ ì™„ë£Œ).

[x] Batch Conflict Resolver: ì—‘ì…€ ìŠ¤íƒ€ì¼ì˜ ì¶©ëŒ í•´ê²° í…Œì´ë¸” UI êµ¬í˜„ (`OnboardingWizardPage` ì—°ë™ ì™„ë£Œ).

[ ] Dashboard Integration: ì˜¨ë³´ë”© ì™„ë£Œ í›„ ëŒ€ì‹œë³´ë“œë¡œ ìì—°ìŠ¤ëŸ½ê²Œ ì „í™˜ë˜ëŠ” íë¦„.

4-2. Phase 2: Proposal Engine & Optimization (Weeks 4-6)
Goal: ìì‚°í™”ëœ ì§€ì‹ì„ í™œìš©í•´ ì‹¤ì œ RFP ì œì•ˆì„œ ì´ˆì•ˆì„ ë§Œë“¤ê³  ë¹„ìš©ì„ í†µì œí•˜ëŠ” ë‹¨ê³„.

Backend: RFP Processing

[x] On-Demand Shredder: services/shredder.py

[x] ë¹„ìš© ì‚°ì •(í† í° ê³„ì‚°) ë¡œì§

[x] ì‚¬ìš©ì ìŠ¹ì¸ ì‹œ ì‹¤í–‰ë˜ëŠ” Trigger API

[x] RFP â†’ Requirement ë¶„í•´ ë¡œì§

[x] Proposal Assembly Engine: services/proposal.py

[x] í…œí”Œë¦¿ ì„ íƒ ë° ìŠ¤ì¼ˆë ˆí†¤ ìƒì„±

[x] Requirement <-> AnswerCard ë§¤í•‘ ì•Œê³ ë¦¬ì¦˜

[x] Project & Requirement API: `routes/projects.py` ìƒì„± ë° ì—°ë™.

Frontend: Proposal Editor

[x] Requirement Mapper UI: RFP ìš”êµ¬ì‚¬í•­ê³¼ ë§¤ì¹­ëœ AnswerCardë¥¼ ë³´ì—¬ì£¼ëŠ” ë·° (`ProjectWorkspacePage` ì—°ë™ ì™„ë£Œ).


4-3. Phase 3: Enterprise Hardening (Weeks 7+)
Goal: ë³´ì•ˆ, ê°ì‚¬, ê·¸ë¦¬ê³  ìš´ì˜ ì•ˆì •ì„± í™•ë³´.

Security & Audit

[x] Audit Log Recording: ì£¼ìš” ì•¡ì…˜(ìŠ¹ì¸, ë°˜ë ¤, í¸ì§‘) ë°œìƒ ì‹œ ë¡œê·¸ ì €ì¥ ë¯¸ë“¤ì›¨ì–´ ì ìš© (`AuditLogMiddleware` êµ¬í˜„ ì™„ë£Œ).

[x] RBAC (Role-Based Access Control): Managerë§Œ ìŠ¹ì¸(Approve) ë²„íŠ¼ì„ ëˆ„ë¥¼ ìˆ˜ ìˆë„ë¡ ê¶Œí•œ ì œì–´ (`verify_manager_role` ì ìš© ì™„ë£Œ).

DevOps & Monitoring

[x] Cost Dashboard: í”„ë¡œì íŠ¸ë³„ í† í° ì‚¬ìš©ëŸ‰ ë° ë¹„ìš© íŠ¸ë˜í‚¹ (`/admin/cost` API êµ¬í˜„ ì™„ë£Œ).

[x] Anchor Health Check: íŒŒì‹± ì‹¤íŒ¨ìœ¨ ë° ì•µì»¤ë§ ì„±ê³µë¥  ëª¨ë‹ˆí„°ë§ ë¡œê·¸ êµ¬ì¶• (`/admin/health/anchors` API êµ¬í˜„ ì™„ë£Œ).

4-4. ìµœì¢… ì™„ë£Œ ê¸°ì¤€ (Definition of Done)
[Review Rule]: ëª¨ë“  ì²´í¬ë°•ìŠ¤ê°€ [x]ê°€ ë˜ì—ˆì„ ë•Œ, ì•„ë˜ ê¸°ì¤€ì„ ìµœì¢… ê²€ìˆ˜í•˜ì‹­ì‹œì˜¤.

[x] Migration Integrity: ê¸°ì¡´ ë°ì´í„°ì™€ ì‹ ê·œ ë°ì´í„°ê°€ ê³µì¡´í•˜ë©°, ìƒˆë¡œìš´ Anchor êµ¬ì¡°ë¡œ ë§¤í•‘ë˜ëŠ”ê°€? (Project/AnswerCard JSONB ìŠ¤í‚¤ë§ˆ í™•ì¸ ì™„ë£Œ)

[x] Conflict UX: ì¶©ëŒ í•´ê²°ì´ íŒì—… ë…¸ê°€ë‹¤ê°€ ì•„ë‹ˆë¼ Batch Resolverë¡œ ë§¤ë„ëŸ½ê²Œ ë™ì‘í•˜ëŠ”ê°€? (OnboardingWizardPage Step 3 êµ¬í˜„ ì™„ë£Œ)

[x] Risk Gate: High Risk VariantëŠ” Approver ê¶Œí•œ ì—†ì´ëŠ” ìŠ¹ì¸ ë¶ˆê°€í•œê°€? (RBAC ì ìš©ìœ¼ë¡œ Managerë§Œ ìŠ¹ì¸ ê°€ëŠ¥)

[x] Cost Control: íŒŒì‡„(Shredding)ëŠ” ë°˜ë“œì‹œ **On-Demand(ë²„íŠ¼ í´ë¦­)**ë¡œë§Œ ì‹¤í–‰ë˜ëŠ”ê°€? (APIì—ì„œ confirm_cost íŒŒë¼ë¯¸í„° ê°•ì œ í™•ì¸)

[x] Audit Trail: DB ì¡°íšŒ ì‹œ, ëˆ„ê°€ ì–¸ì œ ë¬´ì—‡ì„ ìŠ¹ì¸í–ˆëŠ”ì§€ ì¶”ì  ê°€ëŠ¥í•œê°€? (AuditLogMiddleware ë° DB ì €ì¥ í™•ì¸ ì™„ë£Œ)

----------------------------------------------------------------

4-5. Phase 4: Wiring & Integration (The Missing Link)
Goal: "UI Shell"ê³¼ "Backend Logic"ì„ ì—°ê²°í•˜ì—¬ ì‹¤ì œ ë™ì‘í•˜ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ ì™„ì„±.

A. Project & Onboarding (ì‹œì‘í•˜ê¸°)
- [x] Create Project: `LandingPage` -> `POST /projects` (DB ìƒì„± ì—°ë™).
- [x] Upload File: `OnboardingWizardPage` -> `POST /ingest/upload` (íŒŒì¼ ì €ì¥ ë° íŒŒì‹± ì—°ë™).
- [x] Check Conflict: `OnboardingWizardPage` -> `POST /ingest/check` (ì¶©ëŒ ê°ì§€ ë¡œì§ ì—°ë™).
- [x] Resolve Conflict: `OnboardingWizardPage` -> `POST /ingest/resolve` (ì¶©ëŒ í•´ê²° API ì—°ë™).
- [x] Estimate Cost: `OnboardingWizardPage` -> `POST /shredder/estimate` (í† í° ë¹„ìš© ê³„ì‚° ì—°ë™).
- [x] Trigger Analysis: `OnboardingWizardPage` -> `POST /shredder/trigger` (íŒŒì‡„ ë° ë¶„ì„ ì‹œì‘ ì—°ë™).

B. Workspace & Requirements (ì‘ì—… ê³µê°„)
- [x] List Requirements: `ProjectWorkspacePage` -> `GET /projects/{id}/requirements` (í…Œì´ë¸” ë°ì´í„° ì—°ë™).
- [x] View Detail: `ProjectWorkspacePage` (Side Panel) -> `GET /requirements/{id}` (ìƒì„¸ ë‚´ìš© ì—°ë™).
- [x] Approve/Reject: `ProjectWorkspacePage` -> `PATCH /requirements/{id}/status` (ìƒíƒœ ë³€ê²½ ì—°ë™).
- [x] Edit Response: `ProjectWorkspacePage` -> `POST /requirements/{id}/response` (ë‹µë³€ ìˆ˜ì •/ì €ì¥ ì—°ë™).
- [x] Export: `ProjectWorkspacePage` -> `GET /projects/{id}/export` (ì—‘ì…€/ì›Œë“œ ë‹¤ìš´ë¡œë“œ ì—°ë™).
- [x] Delete Project: `EnterpriseLayout` -> `DELETE /projects/{id}` (í”„ë¡œì íŠ¸ ì‚­ì œ ì—°ë™).
- [x] Complete Project: `EnterpriseLayout` -> `PATCH /projects/{id}/status` (í”„ë¡œì íŠ¸ ì™„ë£Œ ì—°ë™).
- [x] Add Member: `ProjectWorkspacePage` -> `POST /projects/{id}/members` (ë©¤ë²„ ì¶”ê°€ ì—°ë™).

C. Knowledge Hub (ì§€ì‹ ê´€ë¦¬)
- [x] List Answer Cards: `KnowledgeHubPage` (Tab 1) -> `GET /answers` (ë‹µë³€ ì¹´ë“œ ëª©ë¡ ì—°ë™).
- [x] Search Answer Cards: `KnowledgeHubPage` -> `GET /answers/search` (ê²€ìƒ‰ í•„í„° ì—°ë™).
- [x] Update Answer Card: `KnowledgeHubPage` -> `PATCH /answers/{id}` (ë‹µë³€ ìˆ˜ì • ì—°ë™).
- [x] List Documents: `KnowledgeHubPage` (Tab 2) -> `GET /documents` (ë¬¸ì„œ ëª©ë¡ ì—°ë™).
- [x] Re-Parse Document: `KnowledgeHubPage` -> `POST /documents/{id}/reindex` (ì¬ë¶„ì„ ì—°ë™).
- [x] Delete Document: `DocumentsPage` -> `DELETE /documents/{id}` (ë¬¸ì„œ ì‚­ì œ ì—°ë™).

D. Admin & Settings (ê´€ë¦¬ì)
- [x] Invite Member: `AdminTeamPage` -> `POST /admin/invite` (ë©¤ë²„ ì´ˆëŒ€ ì—°ë™).
- [x] List Members: `AdminTeamPage` -> `GET /admin/members` (ë©¤ë²„ ëª©ë¡ ì—°ë™).
- [x] Update Role: `AdminTeamPage` -> `PATCH /admin/members/{id}/role` (ê¶Œí•œ ë³€ê²½ ì—°ë™).
- [x] System Status: `AdminDashboardPage` -> `GET /admin/system/status` (ì‹œìŠ¤í…œ ìƒíƒœ ì—°ë™).
- [x] Update Guardrails: `AdminGuardrailsPage` -> `POST /admin/guardrails` (ê¸ˆì§€ì–´ ì„¤ì • ì—°ë™).
- [x] Cost Dashboard: `AdminUsagePage` -> `GET /admin/cost` (ë¹„ìš© í†µê³„ ì—°ë™).

## 4-6. Backend Implementation Gaps & Mock Audit (Current Status)
í˜„ì¬ BackendëŠ” Frontendì™€ì˜ ì—°ë™(Wiring)ì„ ìµœìš°ì„ ìœ¼ë¡œ êµ¬í˜„ë˜ì—ˆìœ¼ë©°, ë‹¤ìŒ ê¸°ëŠ¥ë“¤ì€ **Mock(ê°€ì§œ ë°ì´í„°)** ë˜ëŠ” **ë‹¨ìˆœí™”ëœ ë¡œì§**ìœ¼ë¡œ êµ¬í˜„ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ì‹¤ì œ ìš´ì˜ í™˜ê²½ ë°°í¬ ì „ ë°˜ë“œì‹œ êµ¬í˜„ì´ í•„ìš”í•©ë‹ˆë‹¤.

### A. Admin & Settings (ê´€ë¦¬ì)
1.  **Guardrails (ê°€ë“œë ˆì¼)**
    *   **Status**: Implemented
    *   **Note**: `GuardrailPolicy` í…Œì´ë¸” ìƒì„± ë° DB ì—°ë™ ì™„ë£Œ.
2.  **Cost Dashboard (ë¹„ìš© í†µê³„)**
    *   **Status**: Partial / Mock
    *   **Gap**: `GET /admin/cost`ëŠ” `AuditLog`ì˜ í–‰ ê°œìˆ˜ì— ë‹¨ìˆœ ë‹¨ê°€(100ì›)ë¥¼ ê³±í•´ ê³„ì‚°í•¨. ì‹¤ì œ í† í° ì‚¬ìš©ëŸ‰(`tokens_used`)ì„ ê¸°ë¡í•˜ê³  ì§‘ê³„í•˜ëŠ” ë¡œì§ ì—†ìŒ.
3.  **System Status (ì‹œìŠ¤í…œ ìƒíƒœ)**
    *   **Status**: Mock
    *   **Gap**: `GET /admin/system/status`ëŠ” í•˜ë“œì½”ë”©ëœ ìƒíƒœ(Healthy, CPU 45% ë“±)ë¥¼ ë°˜í™˜. ì‹¤ì œ ì¸í”„ë¼ ëª¨ë‹ˆí„°ë§ ì—°ë™ ì—†ìŒ.
4.  **Member Management (ë©¤ë²„ ê´€ë¦¬)**
    *   **Status**: Implemented (Full)
    *   **Note**: Workspace ë ˆë²¨(`AppUser`) ë° Project ë ˆë²¨(`ProjectMember`)ì˜ ë©¤ë²„ì‹­ ê´€ë¦¬ ë° ì ‘ê·¼ ì œì–´ êµ¬í˜„ ì™„ë£Œ.

### B. Projects & Requirements (í”„ë¡œì íŠ¸)
5.  **AI Suggestion (AI ì œì•ˆ)**
    *   **Status**: Implemented
    *   **Note**: `map_requirements_to_answers`ì—ì„œ RAG ê¸°ë°˜ ê²€ìƒ‰ ë° LLM ìƒì„± ë¡œì§ êµ¬í˜„ ì™„ë£Œ.
6.  **Sources & Past Proposals (ì¶œì²˜ ë° ê³¼ê±° ì œì•ˆ)**
    *   **Status**: Implemented
    *   **Note**: `AnswerCard`ì˜ `anchors` ë° `past_proposals` í•„ë“œë¥¼ UIì— ì—°ë™ ì™„ë£Œ.

### C. Shredder & Ingest (ë¶„ì„ ë° ìˆ˜ì§‘)
7.  **Cost Estimation (ë¹„ìš© ì˜ˆì¸¡)**
    *   **Status**: Heuristic
    *   **Gap**: `calculate_shredding_cost`ëŠ” í…ìŠ¤íŠ¸ ê¸¸ì´ë‚˜ íŒŒì¼ í¬ê¸° ê¸°ë°˜ì˜ ë‹¨ìˆœ ì¶”ì •ì¹˜ì„. ì‹¤ì œ LLM í† í¬ë‚˜ì´ì €ë¥¼ í†µí•œ ì •í™•í•œ í† í° ê³„ì‚° ì•„ë‹˜.
8.  **Conflict Resolution (ì¶©ëŒ í•´ê²°)**
    *   **Status**: Simplified
    *   **Gap**: ì¶©ëŒ í•´ê²° ì‹œ í´ë¼ì´ì–¸íŠ¸ê°€ íŒŒì¼ì„ ë‹¤ì‹œ ì—…ë¡œë“œí•˜ëŠ” ë°©ì‹(Stateless)ì„ ê°€ì •í•¨. ì„œë²„ ì¸¡ ì„ì‹œ ì €ì¥ì†Œë‚˜ ìºì‹œë¥¼ í™œìš©í•œ ìµœì í™” ê³ ë ¤ ê°€ëŠ¥.

### D. Authentication & Groups (ì¸ì¦ ë° ê·¸ë£¹)
9.  **User Authentication (ì‚¬ìš©ì ì¸ì¦)**
    *   **Status**: Hardcoded
    *   **Gap**: `groups.py`, `chats.py` ë“±ì—ì„œ `user_email`ì´ë‚˜ `user_id`ê°€ í•˜ë“œì½”ë”©("jihoseo852@gmail.com", "demo-user")ë˜ì–´ ìˆìŒ. ì‹¤ì œ JWT/Session ê¸°ë°˜ ì¸ì¦ ë¯¸ì ìš©.

----------------------------------------------------------------

Section 5. UI - Backend Gap Analysis & Next Steps

ì„¹ì…˜ 5ì˜ ë‚´ìš©ì€ ì„¹ì…˜4ê¹Œì§€ì˜ ë‚´ìš©ì„ ë°”íƒ•ìœ¼ë¡œ ì „ì²´ì ì¸ MVPë¥¼ ì™„ì„±í•œ ì´í›„ì— ì§„í–‰í•©ë‹ˆë‹¤.

5-1. Frontend Ahead (UIëŠ” ìˆìœ¼ë‚˜ Backend ë¯¸êµ¬í˜„)

[x] Advanced Conflict Resolution API: `ingest.py` ê³ ë„í™”.
    - ì¶©ëŒ ìœ í˜•(Version/Content/Metadata) ì„¸ë¶„í™” ë¡œì§.
    - Merge/Keep Old/Keep New ì•¡ì…˜ ì²˜ë¦¬ API.

[x] Cost Pre-calculation API: `shredder.py` ê³ ë„í™”.
    - ì—…ë¡œë“œëœ íŒŒì¼ë“¤ì˜ ë¶„ëŸ‰ì„ ë¯¸ë¦¬ ë¶„ì„í•˜ì—¬ ì˜ˆìƒ ì‹œê°„/ë¹„ìš©ì„ ë¦¬í„´í•˜ëŠ” API.

[x] Detailed Citation History: `AnswerCard` ëª¨ë¸ ë³´ê°•.
    - ë‹¨ìˆœ `usage_count`ë¥¼ ë„˜ì–´, ì–´ë–¤ í”„ë¡œì íŠ¸/ë¬¸ì„œ/í˜ì´ì§€ì—ì„œ ì¸ìš©ë˜ì—ˆëŠ”ì§€ ì¶”ì í•˜ëŠ” êµ¬ì¡°(`past_proposals` í•„ë“œ ë“±) êµ¬í˜„.
    - **Read API**: `GET /answers` ì‘ë‹µì— `past_proposals` í¬í•¨.
    - **Write API**: `POST /answers/{id}/usage` ì—”ë“œí¬ì¸íŠ¸ ì¶”ê°€ (ì¸ìš© ê¸°ë¡ ì €ì¥).

[x] Dynamic Guardrail API: `guardrail.py` ì—°ë™.
    - ê¸ˆì§€ì–´/High Risk í‚¤ì›Œë“œë¥¼ ê´€ë¦¬ì í™”ë©´ì—ì„œ ì¶”ê°€/ì‚­ì œí•  ìˆ˜ ìˆëŠ” ì„¤ì • API.
    - `GuardrailPolicy` DB ëª¨ë¸ ë° `admin.py` ì—°ë™ ì™„ë£Œ.

[x] Workspace Member Management: `admin.py` & `user.py` ì—°ë™.
    - `AppUser` ëª¨ë¸ì— `workspace`, `role`, `status` ë“± í•„ë“œ ì¶”ê°€.
    - ë©¤ë²„ ì´ˆëŒ€(`POST /admin/invite`), ì¡°íšŒ(`GET /admin/members`), ê¶Œí•œ ë³€ê²½(`PATCH /admin/members/{id}/role`) API êµ¬í˜„.
    - Frontend `AdminTeamPage`ì™€ ì—°ë™ ì™„ë£Œ.

[x] Knowledge Hub Wiring: `answers.py` & `documents.py` ì—°ë™.
    - `AnswerLibraryPage`ë¥¼ ìœ„í•œ `GET /answers` ì‘ë‹µ í¬ë§· í™•ì¥ (`topic`, `summary`, `usageCount` ë“±).
    - `SourceDocumentsPage`ë¥¼ ìœ„í•œ `GET /documents/list` ì‘ë‹µ í¬ë§· í™•ì¥ (`parsingStatus`, `fileSize` ë“±).

[x] Project Visibility & Membership (Phase 4):
    - `ProjectMember` í…Œì´ë¸” ì‹ ì„¤ (`app/models/project_member.py`).
    - í”„ë¡œì íŠ¸ ìƒì„± ì‹œ ì‘ì„±ì ìë™ ë©¤ë²„ ì¶”ê°€ (`projects.py`).
    - í”„ë¡œì íŠ¸ ëª©ë¡ ì¡°íšŒ ì‹œ ë©¤ë²„ì‹­ ê¸°ë°˜ í•„í„°ë§ (`projects.py`).

### 5-2. Backend Requirements (Completed)

#### Folder Management API (Completed)
- [x] `POST /folders`: Create a new folder.
- [x] `DELETE /folders/:id`: Delete a folder (cascade delete children).
- [x] Update `Document` model to support `parent_id` and `is_folder`.

#### Tree View API (Completed)
- [x] `GET /documents/tree`: Fetch documents in a hierarchical structure.
- [x] Update `POST /upload` to accept `folder_id`.

5-2. Frontend-Backend Integration (Fixes)
ë¬¸ë§¥(Context): ì‚¬ìš©ìê°€ ë¡œì»¬ í…ŒìŠ¤íŠ¸ ì¤‘ ë°œê²¬í•œ "Mock Data" ì‚¬ìš© ì˜ì—­ì„ ì‹¤ì œ API ì—°ë™ìœ¼ë¡œ êµì²´í•©ë‹ˆë‹¤.

[x] Answer Library Integration: `AnswerLibraryPage.tsx`
    - `mockAnswers` ì œê±° ë° `GET /answers` ì—°ë™.
    - ê²€ìƒ‰/í•„í„° ê¸°ëŠ¥ API íŒŒë¼ë¯¸í„° ë§¤í•‘.

[x] Source Documents Integration: `SourceDocumentsPage.tsx`
    - `mockDocuments` ì œê±° ë° `GET /documents` ì—°ë™.
    - Re-Parse, Delete ì•¡ì…˜ ì—°ë™.

[x] Projects List Integration: `ProjectsPage.tsx`
    - `projects` Mock Array ì œê±° ë° `GET /projects` ì—°ë™.
    - ì§„í–‰ë¥ (Progress), ì¹´ë“œ ìˆ˜ ë“± í†µê³„ ë°ì´í„° ë§¤í•‘.

[x] RFP Upload Flow Fix: `OnboardingWizardPage.tsx`
    - í”„ë¡œì íŠ¸ ìƒì„± ì „ íŒŒì¼ ì—…ë¡œë“œ ì‹œ `project_id` ëˆ„ë½ ë¬¸ì œ í•´ê²°.
    - `ingest.py`ì—ì„œ `project_id=None`ì¼ ê²½ìš° Default Workspace("personal")ë¡œ ì²˜ë¦¬ í™•ì¸.

[x] Admin & Guardrails Verification: `AdminGuardrailsPage.tsx`
    - `GET /admin/guardrails` ì‘ë‹µ êµ¬ì¡° ê²€ì¦ ë° ì—°ë™ í™•ì¸.
    - `AdminTeamPage.tsx`ì˜ `members` Mock Data ì œê±° ë° `GET /admin/members` ì—°ë™.

[x] Sidebar Project List: `EnterpriseLayout.tsx`
    - Mock Data ì œê±° ë° `GET /projects` ì—°ë™.
    - Active/Completed í”„ë¡œì íŠ¸ ìƒíƒœ ê¸°ë°˜ í•„í„°ë§ ì ìš©.

[x] Project Creation Flow: `LandingPage.tsx`
    - í”„ë¡œì íŠ¸ ìƒì„± í›„ `/project/{id}/workspace`ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸.
    - `ProjectWorkspacePage.tsx`ì—ì„œ `GET /projects/{id}`ë¡œ ì‹¤ì œ í”„ë¡œì íŠ¸ ì •ë³´(ì´ë¦„, ë§ˆê°ì¼ ë“±) í‘œì‹œ.

[x] Document Management UI: `SourceDocumentsPage.tsx`
    - í´ë” ìƒì„±(`POST /documents/folders`), ì´ë™(`PUT /documents/{id}`), ì‚­ì œ(`DELETE`) ì—°ë™.
    - ì •ë ¬ ë¡œì§(í´ë” ìš°ì„ , ìµœì‹ ìˆœ) ë° ë‹¤ì¤‘ ì„ íƒ UI êµ¬í˜„.
    - Global Knowledge Hub ë¬¸ì„œ(`group_id IS NULL`)ë§Œ í‘œì‹œë˜ë„ë¡ í•„í„°ë§.

[x] Project Management Features: `ProjectWorkspacePage.tsx` & `EnterpriseLayout.tsx`
    - í”„ë¡œì íŠ¸ ì‚­ì œ, ì™„ë£Œ ì²˜ë¦¬, ë©¤ë²„ ì¶”ê°€ ê¸°ëŠ¥ êµ¬í˜„ ë° ë°±ì—”ë“œ ì—°ë™.
    - í”„ë¡œì íŠ¸ ë§ˆê°ì¼(Deadline) ë° ì„¤ëª…(Description) í‘œì‹œ.
    - AI ìƒì„± ë‹µë³€ì˜ Trust Scoreë¥¼ 0.0ìœ¼ë¡œ ì„¤ì • (User Feedback).

[x] Feedback Fixes (Round 2):
    - **RFP Extraction**: `shredder.py`ê°€ LLMì„ í†µí•´ Deadlineê³¼ Summaryë¥¼ ì¶”ì¶œí•˜ì—¬ Project ëª¨ë¸ì— ì €ì¥í•˜ë„ë¡ ê°œì„ .
    - **AI Trust Score**: ë§¤ì¹­ ì„ê³„ê°’ì„ 0.9ë¡œ ìƒí–¥í•˜ê³ , ìƒì„±ëœ ë‹µë³€ì˜ ì‹ ë¢°ë„ë¥¼ 0.0ìœ¼ë¡œ ê°•ì œ ì„¤ì •.
    - **Knowledge Hub Filtering**: `get_document_tree` APIê°€ í”„ë¡œì íŠ¸ ì „ìš© íŒŒì¼(`group_id` ì¡´ì¬)ì„ ì œì™¸í•˜ê³  Global ë¬¸ì„œë§Œ ë°˜í™˜í•˜ë„ë¡ ìˆ˜ì •.
    - **Sidebar UI**: `EnterpriseLayout.tsx`ì— í”„ë¡œì íŠ¸ ì‚­ì œ/ì™„ë£Œ Dropdown Menu ì¶”ê°€ ë° ë°±ì—”ë“œ ì—°ë™.

----------------------------------------------------------------

Section 6. ë°°í¬ ì¤€ë¹„ ë° ìš´ì˜ ì´ê´€ (Deployment & Operations)

ë¬¸ë§¥(Context): MVP ê°œë°œì´ ì™„ë£Œë˜ì—ˆìœ¼ë©°, ì´ì œ "ë‚´ ì»´í“¨í„°(Localhost)"ì—ì„œë§Œ ëŒì•„ê°€ëŠ” ì½”ë“œë¥¼ "ì‹¤ì œ ì‚¬ìš©ì(Production)"ê°€ ì“¸ ìˆ˜ ìˆëŠ” í™˜ê²½ìœ¼ë¡œ ì˜®ê¸°ëŠ” ê³¼ì •ì…ë‹ˆë‹¤. ë‹¨ìˆœíˆ ì„œë²„ì— ì½”ë“œë¥¼ ì˜¬ë¦¬ëŠ” ê²ƒì„ ë„˜ì–´, ë‹¤ìŒ 5ê°€ì§€ í•µì‹¬ ëª©í‘œë¥¼ ë‹¬ì„±í•´ì•¼ í•©ë‹ˆë‹¤.

1.  **í™˜ê²½ ê²©ë¦¬ (Environment Isolation)**: ê°œë°œìš© ì„¤ì •(Debug Mode, Mock Data)ê³¼ ìš´ì˜ìš© ì„¤ì •(Secure Mode, Real Data)ì„ ì² ì €íˆ ë¶„ë¦¬í•˜ì—¬, ì‹¤ìˆ˜ë¡œ í…ŒìŠ¤íŠ¸ ë°ì´í„°ê°€ ìš´ì˜ DBì— ì„ì´ê±°ë‚˜ ë³´ì•ˆ í‚¤ê°€ ë…¸ì¶œë˜ëŠ” ì‚¬ê³ ë¥¼ ë°©ì§€í•©ë‹ˆë‹¤.
2.  **ë°ì´í„° ì˜ì†ì„± (Data Persistence)**: ì»¨í…Œì´ë„ˆê°€ êº¼ì¡Œë‹¤ ì¼œì ¸ë„ ë°ì´í„°ê°€ ë‚ ì•„ê°€ì§€ ì•Šë„ë¡, ë¡œì»¬ DBë¥¼ AWS RDS ê°™ì€ ê´€ë¦¬í˜• ì„œë¹„ìŠ¤ë¡œ ì´ê´€í•˜ê³  ë°±ì—… ì „ëµì„ ìˆ˜ë¦½í•©ë‹ˆë‹¤.
3.  **ì„±ëŠ¥ ìµœì í™” (Optimization)**: ê°œë°œ í¸ì˜ì„±ì„ ìœ„í•´ ì¼œë‘ì—ˆë˜ ë””ë²„ê¹… ë„êµ¬ë“¤ì„ ë„ê³ , ì½”ë“œë¥¼ ì••ì¶•(Minify)í•˜ê³ , ë¶ˆí•„ìš”í•œ ë¡œê·¸ë¥¼ ì¤„ì—¬ ì‘ë‹µ ì†ë„ë¥¼ ê·¹ëŒ€í™”í•©ë‹ˆë‹¤.
4.  **ë³´ì•ˆ ê°•í™” (Security Hardening)**: ëˆ„êµ¬ë‚˜ ì ‘ê·¼ ê°€ëŠ¥í•œ ê°œë°œ ì„œë²„ì™€ ë‹¬ë¦¬, HTTPS(ì•”í˜¸í™” í†µì‹ )ë¥¼ ì ìš©í•˜ê³ , í—ˆìš©ëœ ë„ë©”ì¸(CORS)ì—ì„œë§Œ APIë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆë„ë¡ ë¹—ì¥ì„ ê²ë‹ˆë‹¤.
5.  **ìš´ì˜ ìë™í™” (CI/CD & Ops)**: ì½”ë“œë¥¼ ìˆ˜ì •í•  ë•Œë§ˆë‹¤ ìˆ˜ë™ìœ¼ë¡œ ì„œë²„ì— ì ‘ì†í•´ì„œ ë³µì‚¬í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, GitHubì— í‘¸ì‹œí•˜ë©´ ìë™ìœ¼ë¡œ í…ŒìŠ¤íŠ¸í•˜ê³  ë°°í¬ë˜ëŠ” íŒŒì´í”„ë¼ì¸ì„ êµ¬ì¶•í•©ë‹ˆë‹¤.

---

6-1. ì¸í”„ë¼ ì•„í‚¤í…ì²˜ ìŠ¤í™ (Infrastructure Specifications)

ë¬¸ë§¥(Context): ë°°í¬ë  í™˜ê²½ì˜ ë¬¼ë¦¬ì /ë…¼ë¦¬ì  êµ¬ì„±ë„ì…ë‹ˆë‹¤.  
Compute ë ˆì´ì–´ëŠ” **AWS App Runner**ë¥¼ 1ì°¨ ê¸°ë³¸ê°’ìœ¼ë¡œ ì‚¬ìš©í•˜ë©°, ê°™ì€ AWS ê³„ì •/VPC ë‚´ì—ì„œ **ECS Fargate**ë¡œ ì´ì „ ê°€ëŠ¥í•œ êµ¬ì¡°ë¥¼ ìœ ì§€í•©ë‹ˆë‹¤.

A. Computing (AWS/Cloud)

- **Frontend**: S3 Static Website Hosting + CloudFront (CDN)  
    - ì—­í• : ì •ì  íŒŒì¼(JS, CSS, HTML)ì„ ì „ ì„¸ê³„ ì—£ì§€ ë¡œì¼€ì´ì…˜ì—ì„œ ìºì‹±í•˜ì—¬ 0.1ì´ˆ ì´ë‚´ ë¡œë”©.

- **Backend**: AWS App Runner (Primary Compute)  
    - ì—­í• : Docker ì»¨í…Œì´ë„ˆ ê¸°ë°˜ FastAPI API ì„œë²„ë¥¼ ì™„ì „ê´€ë¦¬í˜•(serverless) í™˜ê²½ì—ì„œ êµ¬ë™.  
    - íŠ¹ì§•:
        - ì†ŒìŠ¤: ECRì— ì €ì¥ëœ ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ ê¸°ë°˜ ë°°í¬.
        - ìë™ ìŠ¤ì¼€ì¼ë§: ìš”ì²­ ìˆ˜ì— ë”°ë¼ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìë™ ì¦ê°.
        - ë‚´ì¥ í—¬ìŠ¤ì²´í¬ ë° ë¡¤ë§ ë°°í¬ ì§€ì›.
        - í™˜ê²½ë³€ìˆ˜(ENV)ë¥¼ í†µí•´ DB URL, S3 ë²„í‚· ë“± ì„¤ì • ì£¼ì….

- **Gateway / Endpoint**: App Runner Custom Domain (+ AWS ACM)  
    - ì—­í• : HTTPS(SSL/TLS) ì¢…ë‹¨ì  ì œê³µ ë° ì‚¬ìš©ì íŠ¸ë˜í”½ ìˆ˜ì‹ .
    - êµ¬ì„±:
        - Route 53ì—ì„œ ì»¤ìŠ¤í…€ ë„ë©”ì¸ â†’ App Runner ì„œë¹„ìŠ¤ë¡œ ë§¤í•‘.
        - AWS Certificate Manager(ACM)ìœ¼ë¡œ TLS ì¸ì¦ì„œ ë°œê¸‰ ë° ì—°ê²°.
    - í™•ì¥:
        - ì—”í„°í”„ë¼ì´ì¦ˆ ìš”êµ¬ ì‹œ, CloudFront ë˜ëŠ” ALB + WAFë¥¼ App Runner ì•ë‹¨ì— ì¶”ê°€í•˜ì—¬
          ì„¸ë°€í•œ ë¼ìš°íŒ… ë° ë³´ì•ˆ ì •ì±… ì ìš© ê°€ëŠ¥ (ì¶”í›„ Phaseì—ì„œ ê³ ë ¤).

B. Data & Storage

- **Database**: AWS RDS for PostgreSQL (v15+)  
    - ìŠ¤í™: `db.t3.medium` ì´ìƒ, Multi-AZ(ì´ì¤‘í™”) ì„¤ì • ê¶Œì¥.  
    - Extensions: `pgvector`, `pg_trgm` í•„ìˆ˜ ì„¤ì¹˜.  
    - ë„¤íŠ¸ì›Œí¬: Private Subnetì— ìœ„ì¹˜, App Runnerì—ì„œ VPC Connectorë¥¼ í†µí•´ ì ‘ê·¼.

- **Object Storage**: AWS S3 Standard  
    - êµ¬ì¡°: `/raw/{project_id}/{file_id}` (ì›ë³¸), `/parsed/...` (ì¤‘ê°„ ì‚°ì¶œë¬¼).  
    - ë³´ì•ˆ:
        - Public Access Block í™œì„±í™” (ì§ì ‘ í¼ë¸”ë¦­ ê³µê°œ ê¸ˆì§€).
        - Presigned URLì„ í†µí•´ì„œë§Œ ì—…ë¡œë“œ/ë‹¤ìš´ë¡œë“œ ì ‘ê·¼.
    - ë¡œê·¸/ë°±ì—… íŒŒì¼ ì—­ì‹œ ë³„ë„ S3 Prefixë¡œ ê´€ë¦¬.

- **VPC & ë„¤íŠ¸ì›Œí¬**  
    - RDS ë° ê¸°íƒ€ ë‚´ë¶€ ë¦¬ì†ŒìŠ¤ëŠ” Private Subnetì— ë°°ì¹˜.  
    - App RunnerëŠ” VPC Connectorë¥¼ í†µí•´ í•´ë‹¹ VPCì— ì ‘ì†í•˜ì—¬ RDS, ë‚´ë¶€ ì„œë¹„ìŠ¤ì— ì ‘ê·¼.  
    - ì¸ë°”ìš´ë“œ íŠ¸ë˜í”½ì€ ê¸°ë³¸ì ìœ¼ë¡œ App Runner HTTPS ì—”ë“œí¬ì¸íŠ¸(ë˜ëŠ” CloudFront/ALB)ë¥¼ í†µí•´ì„œë§Œ í—ˆìš©.

---

6-2. ë°°í¬ íŒŒì´í”„ë¼ì¸ ë¡œì§ (Deployment Pipeline)

ë¬¸ë§¥(Context): ì½”ë“œê°€ ì‹¤ì œ ì„œë²„ì— ë°˜ì˜ë˜ëŠ” ìë™í™”ëœ ì ˆì°¨ì…ë‹ˆë‹¤.  
í•µì‹¬ì€ GitHub â†’ GitHub Actions â†’ ECR â†’ App Runnerë¡œ ì´ì–´ì§€ëŠ” ìë™í™”ì…ë‹ˆë‹¤.

**Step 1 - Code Push & Test (CI)**

- ê°œë°œìê°€ `main` ë¸Œëœì¹˜ì— ì½”ë“œë¥¼ í‘¸ì‹œí•˜ë©´ GitHub Actionsê°€ íŠ¸ë¦¬ê±°ë¨.
- **Unit Test**: `pytest`ë¡œ í•µì‹¬ ë¡œì§(íŒŒì‹±, ì¶©ëŒ ê°ì§€, Shredder, Guardrail ë“±) ê²€ì¦.
- **Linting**: ì½”ë“œ ìŠ¤íƒ€ì¼ ë° íƒ€ì… ì²´í¬(MyPy, Ruff ë“±) ìˆ˜í–‰.
- ëª¨ë“  í…ŒìŠ¤íŠ¸ê°€ í†µê³¼í•˜ì§€ ì•Šìœ¼ë©´ ì´í›„ ë‹¨ê³„(App Runner ë°°í¬)ëŠ” ì¤‘ë‹¨.

**Step 2 - Container Build**

- í…ŒìŠ¤íŠ¸ í†µê³¼ ì‹œ Docker ì´ë¯¸ì§€ ë¹Œë“œ (`backend:{git_sha}` ë˜ëŠ” `backend:v1.0.2` ë“± íƒœê·¸).  
- ë¹Œë“œ ê²°ê³¼ë¥¼ AWS ECR(Elastic Container Registry)ì— ì´ë¯¸ì§€ ì—…ë¡œë“œ ë° íƒœê¹….  
- ì´ë¯¸ì§€ íƒœê·¸ ê·œì¹™ ì˜ˆì‹œ:
    - `backend:{git_sha}` (ë¶ˆë³€ íƒœê·¸)
    - `backend:latest` (ê°€ì¥ ìµœê·¼ ë°°í¬ íƒœê·¸)

**Step 3 - App Runner Service Update (CD)**

- Terraform ë˜ëŠ” AWS CDKê°€ ì¸í”„ë¼ ë³€ê²½ ì‚¬í•­ì„ ê°ì§€.  
- App Runner ì„œë¹„ìŠ¤ê°€ ìƒˆë¡œìš´ ECR ì´ë¯¸ì§€ íƒœê·¸ë¥¼ ì°¸ì¡°í•˜ë„ë¡ ì—…ë°ì´íŠ¸.
- App Runnerê°€ ìƒˆë¡œìš´ ì´ë¯¸ì§€ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë¡¤ë§ ë°°í¬:
    - ê¸°ì¡´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì ì§„ì ìœ¼ë¡œ ì¢…ë£Œ(Drain)í•˜ë©´ì„œ ì‹ ê·œ ì¸ìŠ¤í„´ìŠ¤ê°€ íŠ¸ë˜í”½ ìˆ˜ì‹ .
    - í—¬ìŠ¤ì²´í¬ ì‹¤íŒ¨ ì‹œ ìë™ ë¡¤ë°± ì •ì±… êµ¬ì„±(ê°€ëŠ¥í•œ ë²”ìœ„ ë‚´).

**Step 4 - Migration & Health Check**

- ë°°í¬ ì§í›„ GitHub Actions ë˜ëŠ” ë³„ë„ CD ìŠ¤í…ì—ì„œ ë‹¤ìŒ ì‘ì—… ìˆ˜í–‰:
    - `alembic upgrade head` ìë™ ì‹¤í–‰í•˜ì—¬ DB ìŠ¤í‚¤ë§ˆ ìµœì‹  ìƒíƒœë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜.
    - App Runner ì„œë¹„ìŠ¤ì˜ `/health` ì—”ë“œí¬ì¸íŠ¸ í˜¸ì¶œí•˜ì—¬ 200 OK í™•ì¸.
- Health Check ì„±ê³µ ì‹œ:
    - Slack/Teams Webhookìœ¼ë¡œ "ë°°í¬ ì™„ë£Œ" ì•Œë¦¼ ì „ì†¡.
- ì‹¤íŒ¨ ì‹œ:
    - ì•Œë¦¼ê³¼ í•¨ê»˜ ì§ì „ ì´ë¯¸ì§€ë¡œ ë¡¤ë°±(ìˆ˜ë™ ë˜ëŠ” ìë™ ë¡¤ë°± ì •ì±…).

---

6-3. Environment & Security Configuration (Milestone)

- [ ] **Secret Management**
    - `.env` íŒŒì¼ì„ Dev/Prodë¡œ ë¶„ë¦¬í•˜ê³ , ì‹¤ì œ ìš´ì˜ í™˜ê²½ì—ì„œëŠ” `.env` ëŒ€ì‹ :
        - AWS SSM Parameter Store ë˜ëŠ” Secrets Managerë¥¼ ì‚¬ìš©í•˜ì—¬
          DB URL, OpenAI API Key, JWT Secret ë“± ë¯¼ê° ì •ë³´ë¥¼ ê´€ë¦¬.
    - App Runner ì„œë¹„ìŠ¤ì— í™˜ê²½ë³€ìˆ˜ë¡œ ì£¼ì…í•  ë•ŒëŠ” í•´ë‹¹ Secret ì—°ë™ ê¸°ëŠ¥ ì‚¬ìš©.

- [ ] **CORS & Allowed Origins**
    - í”„ë¡ íŠ¸ì—”ë“œ ë„ë©”ì¸(ì˜ˆ: `https://app.rfp-os.com`)ë§Œ í—ˆìš©í•˜ë„ë¡ CORS Origin ì œí•œ.
    - OPTIONS Preflight ìš”ì²­ì— ëŒ€í•´ FastAPIì—ì„œ ëª…ì‹œì ìœ¼ë¡œ í—ˆìš© ì •ì±… ì„¤ì •.

- [ ] **SSL/TLS Setup**
    - Route 53ì—ì„œ ë„ë©”ì¸ ê´€ë¦¬.
    - AWS Certificate Manager(ACM)ë¡œ TLS ì¸ì¦ì„œ ë°œê¸‰.
    - App Runner Custom Domainì— ACM ì¸ì¦ì„œ ì—°ê²°í•˜ì—¬ HTTPS ê°•ì œ.
    - ì¶”í›„ CloudFront/ALBê°€ ì•ë‹¨ì— ì¶”ê°€ë˜ëŠ” ê²½ìš°ì—ë„ ACM ì¸ì¦ì„œ ì¬ì‚¬ìš©.

---

6-4. Database & Storage (Milestone)

- [ ] **Production DB Setup**
    - ë¡œì»¬/í…ŒìŠ¤íŠ¸ DB(ì˜ˆ: Docker Postgres, SQLite)ì—ì„œ ìš´ì˜ìš© AWS RDS(PostgreSQL)ë¡œ ë°ì´í„° ë§ˆì´ê·¸ë ˆì´ì…˜.
    - `project`, `answer_card`, `rfp_requirement`, `audit_log` í…Œì´ë¸” ë° ì¸ë±ìŠ¤/í™•ì¥(pgvector, pg_trgm) ì„¤ì • í™•ì¸.

- [ ] **DB Backup Strategy**
    - RDS ìë™ ë°±ì—…(ì¼/ì£¼ ë‹¨ìœ„) ì„¤ì • ë° ë³´ì¡´ ê¸°ê°„ ì •ì˜.
    - ì¤‘ëŒ€ ë³€ê²½ ì „ ìˆ˜ë™ ìŠ¤ëƒ…ìƒ· ìƒì„± ì •ì±… ìˆ˜ë¦½.
    - ë¶„ê¸°/ë°˜ê¸° ë‹¨ìœ„ë¡œ "ë³µêµ¬ ë¦¬í—ˆì„¤"ì„ í†µí•´ ì‹¤ì œ ë³µêµ¬ ì ˆì°¨ë¥¼ ê²€ì¦.
- [ ] **S3 Bucket Policy**
    - ìš´ì˜ìš© ë²„í‚·ê³¼ ê°œë°œ/ìŠ¤í…Œì´ì§•ìš© ë²„í‚·ì„ ë¶„ë¦¬.
    - Public Access Block ë° ë²„í‚· ì •ì±…ìœ¼ë¡œ ì§ì ‘ í¼ë¸”ë¦­ ì˜¤ë¸Œì íŠ¸ ì—…ë¡œë“œ ê¸ˆì§€.
    - ìµœì†Œ ê¶Œí•œ IAM Role(ì˜ˆ: `rfp-backend-s3-role`)ì„ í†µí•´ì„œë§Œ ì ‘ê·¼ í—ˆìš©.
    - Lifecycle ì •ì±…:
        - íŒŒì‹± ì¤‘ê°„ ì‚°ì¶œë¬¼ì€ Nì¼ ì´í›„ Glacierë¡œ ì´ë™ ë˜ëŠ” ì‚­ì œ.
        - ì›ë³¸ RFP ë¬¸ì„œëŠ” ì¥ê¸° ë³´ê´€(ê·œì œ/ê°ì‚¬ ìš”ê±´ ê³ ë ¤).

---

6-5. Backend Deployment (Milestone)

- [ ] **Dockerfile Optimization**
    - Multi-stage buildë¡œ ì´ë¯¸ì§€ ì‚¬ì´ì¦ˆ ìµœì í™” (ì˜ˆ: Python Slim ë² ì´ìŠ¤ ì´ë¯¸ì§€ ì‚¬ìš©).
    - ë¶ˆí•„ìš”í•œ ë¹Œë“œ ë„êµ¬/í…ŒìŠ¤íŠ¸ ì˜ì¡´ì„±ì€ ìµœì¢… ì´ë¯¸ì§€ì—ì„œ ì œê±°.
    - Health Check ì—”ë“œí¬ì¸íŠ¸(`/health`)ëŠ” ê²½ëŸ‰ ë¡œì§ìœ¼ë¡œ ìœ ì§€.

- [ ] **Gunicorn/Uvicorn Config**
    - App Runner ë‚´ì—ì„œ ì‹¤í–‰í•  í”„ë¡œì„¸ìŠ¤ ì„¤ì •:
        - ì›Œì»¤ í”„ë¡œì„¸ìŠ¤ ìˆ˜ (CPU ì½”ì–´/ë©”ëª¨ë¦¬ ëŒ€ë¹„ ì ì •ê°’).
        - íƒ€ì„ì•„ì›ƒ, Keep-alive ì„¤ì •.
    - FastAPI + Uvicorn/Gunicorn ì¡°í•©ì„ ê¸°ì¤€ìœ¼ë¡œ ìš´ì˜.

- [ ] **App Runner Service Config**
    - CPU/ë©”ëª¨ë¦¬ ì‚¬ì´ì¦ˆ: ì´ˆê¸°ì— ì†Œí˜•ìœ¼ë¡œ ì‹œì‘, ëª¨ë‹ˆí„°ë§ í›„ ë‹¨ê³„ì  ì¦ì„¤.
    - Auto Scaling:
        - ìµœì†Œ/ìµœëŒ€ ë™ì‹œ ìš”ì²­ ìˆ˜(Concurrency) ë° ì¸ìŠ¤í„´ìŠ¤ ìˆ˜ ì„¤ì •.
    - Health Check:
        - ê²½ë¡œ: `/health`
        - í—ˆìš© ì‘ë‹µ ì‹œê°„ ë° ì‹¤íŒ¨ í—ˆìš© íšŸìˆ˜ ì •ì˜.

- (ì˜µì…˜) **Reverse Proxy / WAF ì—°ë™**
    - ì´ˆê¸° MVP ë‹¨ê³„ì—ì„œëŠ” App Runner ì—”ë“œí¬ì¸íŠ¸ë¥¼ ì§ì ‘ ì‚¬ìš©.
    - ì—”í„°í”„ë¼ì´ì¦ˆ/ë³´ì•ˆ ìš”êµ¬ ì¦ê°€ ì‹œ:
        - CloudFront ë˜ëŠ” ALB + WAFë¥¼ ì•ë‹¨ì— ì¶”ê°€í•˜ì—¬
          IP ì œí•œ, Rate Limiting, Geo Blocking ë“± ì •ì±… ì ìš©.

---

6-6. Frontend Deployment (Milestone)

- [ ] **Production Build**
    - `npm run build` ìˆ˜í–‰ ì‹œ Minification, Tree Shaking í™œì„±í™”.
    - Source Mapì€ ìš´ì˜ í™˜ê²½ì—ì„œëŠ” ë¹„í™œì„±í™”(ë˜ëŠ” ë³„ë„ ë³´í˜¸ëœ ê²½ë¡œì—ë§Œ ë³´ê´€).

- [ ] **Serving Strategy**
    - ë¹Œë“œ ì‚°ì¶œë¬¼ì„ S3 ë²„í‚·(ì •ì  í˜¸ìŠ¤íŒ… ì „ìš©)ì— ì—…ë¡œë“œ.
    - CloudFrontë¥¼ í†µí•´ ì „ ì„¸ê³„ ì—£ì§€ì—ì„œ ìºì‹±/ì„œë¹™.
    - CloudFront Originì€ í•´ë‹¹ S3 ë²„í‚·ìœ¼ë¡œ ì„¤ì •.

- [ ] **Cache Control**
    - JS/CSS ë“± ì •ì  ìì‚°ì— ëŒ€í•´ ì ì ˆí•œ Cache-Control í—¤ë” ì„¤ì •:
        - íŒŒì¼ëª…ì— í•´ì‹œë¥¼ í¬í•¨í•˜ê³ , ì¥ê¸° ìºì‹±(`max-age`) í—ˆìš©.
    - HTML ë¬¸ì„œì— ëŒ€í•´ì„œëŠ” ì§§ì€ ìºì‹œ ë˜ëŠ” no-cache ì •ì±… ìœ ì§€.

---

6-7. CI/CD & Monitoring (Milestone)

- [ ] **GitHub Actions**
    - `main` ë¸Œëœì¹˜ í‘¸ì‹œ ì‹œ ìë™ ë¹Œë“œ/í…ŒìŠ¤íŠ¸/ë°°í¬ íŒŒì´í”„ë¼ì¸ êµ¬ì„±.
    - ë°±ì—”ë“œ:
        - í…ŒìŠ¤íŠ¸ â†’ Docker Build â†’ ECR Push â†’ App Runner Service Update.
    - í”„ë¡ íŠ¸ì—”ë“œ:
        - í…ŒìŠ¤íŠ¸ â†’ `npm run build` â†’ S3 Sync â†’ CloudFront Invalidation.

- [ ] **Log Aggregation**
    - App Runner ë¡œê·¸ë¥¼ CloudWatch Logsë¡œ ìˆ˜ì§‘.
    - ì—ëŸ¬ ë¡œê·¸, ì‘ë‹µ ì‹œê°„, ìš”ì²­ ìˆ˜ ë“±ì˜ ì§€í‘œë¥¼ ëŒ€ì‹œë³´ë“œë¡œ ì‹œê°í™”.
    - í•„ìš” ì‹œ Sentry/Datadog ë“± ì™¸ë¶€ ì„œë¹„ìŠ¤ì™€ ì—°ë™í•˜ì—¬ ì• í”Œë¦¬ì¼€ì´ì…˜ ë ˆë²¨ ì—ëŸ¬ íŠ¸ë˜í‚¹.

- [ ] **Health Check Monitoring**
    - `/health` ì—”ë“œí¬ì¸íŠ¸ì— ëŒ€í•œ ì£¼ê¸°ì  ëª¨ë‹ˆí„°ë§ ì„¤ì •(CloudWatch Synthetics ë˜ëŠ” ì™¸ë¶€ Uptime ì„œë¹„ìŠ¤).
    - ì‘ë‹µ ì‹¤íŒ¨ ì‹œ Slack/Teams/Webhookìœ¼ë¡œ ì•Œë¦¼ ì „ì†¡.
    - App Runner, RDS, S3, ë¹„ìš©(ì†Œë¹„ëŸ‰) ì§€í‘œì— ëŒ€í•œ ê¸°ë³¸ ì•ŒëŒ ì„¸íŠ¸ êµ¬ì„±
        - ì˜ˆ: RDS CPU 80% ì´ìƒ ì§€ì†, ì—ëŸ¬ìœ¨ 5xx ì¦ê°€, ì›”ê°„ ë¹„ìš© ê¸‰ì¦ ë“±.

----------------------------------------------------------------
