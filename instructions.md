ğŸ“˜ Enterprise RFP OS â€” Project Instruction
Section 1. í”„ë¡œì íŠ¸ ì •ì˜ ë° í•µì‹¬ ê°€ì¹˜ (General & Philosophy)

ë¬¸ë§¥(Context)
ì´ ì„¹ì…˜ì€ ê°œë°œì˜ **ëŒ€ì›ì¹™(Rule)**ì´ì **ë°©í–¥ì„±(Compass)**ì…ë‹ˆë‹¤.
ê¸°ìˆ ì  ì˜ì‚¬ê²°ì • ì‹œ ì´ ì›ì¹™ì— ìœ„ë°°ë˜ëŠ” ì½”ë“œëŠ” ì‘ì„±í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

1-1. í”„ë¡œì íŠ¸ ì •ì˜ (Mission)

â€œZero Setup â†’ Guided Control â†’ Verified Confidenceâ€

ì´ ì œí’ˆì€ ë‹¨ìˆœ RAG ì±—ë´‡ì´ ì•„ë‹ˆë¼,
ê¸°ì—…ì˜ RFP ì œì•ˆì„œ ì‘ì„±ì„ ìœ„í•´ ì„¤ê³„ëœ **ì—”í„°í”„ë¼ì´ì¦ˆ ì§€ì‹ ìš´ì˜ì²´ì œ(OS)**ë‹¤.

ì—¬ê¸°ì„œ ë§í•˜ëŠ” â€œë¬¸ì„œ ì—…ë¡œë“œâ€ëŠ” ì„¸ ê°€ì§€ ë£¨íŠ¸ë¡œ ë‚˜ë‰œë‹¤:

Knowledge Hub ë¬¸ì„œ ì—…ë¡œë“œ (ì‚¬ë‚´ ì§€ì‹ ì €ì¥ì†Œ)

ì‚¬ë‚´ í‘œì¤€ ì œì•ˆì„œ, ë°±ì„œ, ì¸ì¦ì„œ, ë³´ì•ˆ ì •ì±…, ê¸°ìˆ  ì„¤ëª…ì„œ ë“±
ì—¬ëŸ¬ í”„ë¡œì íŠ¸ì—ì„œ ë°˜ë³µ ì¬ì‚¬ìš©ë  ìˆ˜ ìˆëŠ” ë ˆí¼ëŸ°ìŠ¤ ë¬¸ì„œ

Google Vertex AI Search Advancedë¡œ ì¸ë±ì‹±

ì¬ì‚¬ìš© ê°€ì¹˜ê°€ ë†’ì€ ë¬¸ë‹¨/í‘œë¥¼ ê¸°ë°˜ìœ¼ë¡œ AnswerCard í›„ë³´ ìë™ ìƒì„±(Lazy Mining)

RFP ë§ˆìŠ¤í„° ì—…ë¡œë“œ (Project RFP ìƒì„±)

ì‹¤ì œ ì…ì°° ê³µê³ ë¬¸, ê³¼ì—…ì§€ì‹œì„œ, ì œì•ˆìš”ì²­ì„œ ë“±
ì´ë²ˆ í”„ë¡œì íŠ¸ì˜ ê¸°ì¤€ì´ ë˜ëŠ” ë¬¸ì„œ(â€œë§ˆìŠ¤í„° RFPâ€)

**Google Gemini 3.0 Pro (Vision/Pro)**ë¥¼ ì´ìš©í•´
ë‹¨ì¼ ë¬¸ì„œ Deep Parsing(Shredding) â†’ rfp_requirement / project ë©”íƒ€ë°ì´í„° êµ¬ì¡°í™”

ì´ RFP ë§ˆìŠ¤í„°ëŠ” Vertex ì¸ë±ìŠ¤ì— ì˜¬ë¦¬ì§€ ì•ŠëŠ”ë‹¤. (í”„ë¡œì íŠ¸ ìˆ˜ëª…ê³¼ í•¨ê»˜ ì‚¬ë¼ì§€ëŠ” ì¼íšŒì„± ë¬¸ì„œ)

í”„ë¡œì íŠ¸ ì²¨ë¶€ ë¬¸ì„œ ì—…ë¡œë“œ (Project Attachments)

í•´ë‹¹ í”„ë¡œì íŠ¸ì—ë§Œ ì‚¬ìš©í•˜ëŠ” ì¶”ê°€ ë¬¸ì„œ
(ì§ˆì˜ì‘ë‹µì„œ, ê³ ê° ì œê³µ ì–‘ì‹, ì¶”ê°€ ìš”êµ¬ì‚¬í•­ ë¬¸ì„œ ë“±)

Project-local ë¬¸ì„œë¡œ ì €ì¥ (document.group_id = project_id)

í•„ìš” ì‹œ RAG/Anchor ë³´ì¡° ê·¼ê±°ë¡œë§Œ ì‚¬ìš©

ë”°ë¼ì„œ ê¸°ì¡´ì˜ ì• ë§¤í•œ ë¬¸ì¥ì¸

â€œì‚¬ìš©ìê°€ ë¬¸ì„œë¥¼ ì—…ë¡œë“œí•˜ë©´ AIê°€ ë¶„ì„ ë° ì¶©ëŒ ê°ì§€í•œë‹¤â€

ëŠ” ì•„ë˜ì™€ ê°™ì´ ì¬ì •ì˜í•œë‹¤:

â€œì‚¬ìš©ìê°€ ë¬¸ì„œë¥¼ ì—…ë¡œë“œí•˜ë©´, ë¬¸ì„œì˜ ìš©ë„(ì‚¬ë‚´ ì§€ì‹ / RFP ë§ˆìŠ¤í„° / í”„ë¡œì íŠ¸ ì²¨ë¶€)ì— ë”°ë¼ ê°ê¸° ë‹¤ë¥¸ íŒŒì´í”„ë¼ì¸ìœ¼ë¡œ ë¼ìš°íŒ…ë˜ê³ , í•´ì‹œ ê¸°ë°˜ ì¤‘ë³µÂ·ë²„ì „ ì¶©ëŒì„ ê°ì§€í•œ ë’¤, ì ì ˆí•œ AI ì—”ì§„(Vertex/Gemini/OpenAI)ì„ í˜¸ì¶œí•œë‹¤.â€

ìµœì¢… ëª©í‘œ:

ì‚¬ë‚´ ë¬¸ì„œëŠ” Vertex AI Search + AnswerCardë¥¼ í†µí•´
â€œë‹¤ì‹œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” í‘œì¤€ ì§€ì‹ ë¸”ë¡â€ìœ¼ë¡œ ìì‚°í™”ë˜ê³ ,

RFP ë§ˆìŠ¤í„° ë¬¸ì„œëŠ” Gemini 3.0 Proë¥¼ í†µí•´
â€œì •ë°€í•˜ê²Œ íŒŒì‡„ëœ ìš”êµ¬ì‚¬í•­/í‰ê°€ê¸°ì¤€/ìš”ì•½ ì •ë³´â€ë¡œ ë³€í™˜ë˜ë©°,

ì‹¤ì œ ì œì•ˆì„œëŠ” AnswerCard + OpenAI GPT-5.1ë¥¼ ê¸°ë°˜ìœ¼ë¡œ
â€œê²€ì¦ëœ í‘œì¤€ ë‹µë³€ ì„¸íŠ¸ + í”„ë¡œì íŠ¸ ì»¨í…ìŠ¤íŠ¸â€ ìœ„ì—ì„œ ì‘ì„±ëœë‹¤.

1-2. ê°œë°œ 5ëŒ€ ëŒ€ì›ì¹™ (Prime Directives)
1) Trust over Magic

ìë™í™”ë³´ë‹¤ ë” ì¤‘ìš”í•œ ê²ƒì€ ìš´ì˜ìê°€ í†µì œí•˜ê³  ìˆë‹¤ê³  ëŠë¼ê²Œ í•˜ëŠ” UXë‹¤.
â€œì•Œì•„ì„œ í–ˆìŠµë‹ˆë‹¤â€ë³´ë‹¤ **â€œì´ê²ƒì„ ìŠ¹ì¸í•˜ì‹œê² ìŠµë‹ˆê¹Œ?â€**ê°€ ë” ë‚«ë‹¤.

ì‚¬ìš©ìëŠ” **â€œAIì—ê²Œ ë§¡ê²¼ë‹¤â€**ê°€ ì•„ë‹ˆë¼
**â€œAIê°€ ì°¾ì•„ì¤€ ê²ƒ ì¤‘ í•µì‹¬ë§Œ ë‚´ê°€ ê³¨ë¼ ìŠ¹ì¸í•œë‹¤â€**ëŠ” ê°ê°ì„ ê°€ì ¸ì•¼ í•œë‹¤.

ëª¨ë“  ì£¼ìš” ë³€ê²½(íŒ©íŠ¸ ë³€ê²½, ê³ ìœ„í—˜ í‘œí˜„ ìŠ¹ì¸ ë“±)ì€ ëª…ì‹œì  ìŠ¹ì¸ í”Œë¡œìš°ë¥¼ ê°€ì ¸ì•¼ í•œë‹¤.

2) Bulletproof Anchoring (í˜„ì‹¤ì  3ì¤‘ ë³´í˜¸)

Anchoringì€ í•­ìƒ 3ì¤‘ ë ˆì´ì–´ë¡œ ì„¤ê³„í•œë‹¤.

Semantic (í•´ì‹œ/ë¬¸ì¥ ê¸°ë°˜) â€” 1ìˆœìœ„, í•„ìˆ˜

ë‹µë³€ì˜ ê·¼ê±°ê°€ ë˜ëŠ” í…ìŠ¤íŠ¸ ìŠ¤ë‹ˆí« + SHA256 í•´ì‹œ

Structure (ì„¹ì…˜ ê²½ë¡œ) â€” ìˆìœ¼ë©´ ì‚¬ìš©

"3.1 ë³´ì•ˆìš”êµ¬ì‚¬í•­ > ë„¤íŠ¸ì›Œí¬ êµ¬ê°„" ê°™ì€ ë…¼ë¦¬ì  ê²½ë¡œ

Layout (BBox/page, URI) â€” ì‚¬ìš© ê°€ëŠ¥í•  ë•Œë§Œ

í˜ì´ì§€ ë²ˆí˜¸, Bounding Box, ì›ë³¸ PDF ìœ„ì¹˜(S3/GCS URI)

ê²°ë¡ :

Vertex/GeminiëŠ” ì–´ë””ê¹Œì§€ë‚˜ **â€œíƒìƒ‰ê¸°(Explorer)â€**ì´ë‹¤.

ìµœì¢… Anchoringì€ **PostgreSQL(AnswerCard + Document)**ì—
Frozen Snapshot(ë°•ì œ) í˜•íƒœë¡œ ì €ì¥ë˜ì–´ì•¼ í•œë‹¤.

ì¸ë±ìŠ¤ê°€ ì¬êµ¬ì„±ë˜ê±°ë‚˜ ëª¨ë¸ì´ ë°”ë€Œì–´ë„,
í•œ ë²ˆ ìŠ¹ì¸ëœ AnswerCardëŠ” ì›ë³¸ íŒŒì¼ ìœ„ì¹˜ + í•´ì‹œë¥¼ í†µí•´
í•­ìƒ ë™ì¼í•˜ê²Œ ì¬í˜„ ê°€ëŠ¥í•´ì•¼ í•œë‹¤.

3) Risk-Aware Evolution

AnswerCardëŠ” ë‹¤ìŒ ë‘ ê²½ë¡œë¡œ ìë™ ìƒì„±Â·ì§„í™”í•  ìˆ˜ ìˆë‹¤.

ì‚¬ë‚´ ë¬¸ì„œ ë§ˆì´ë‹ (origin = "MINED")

ì‹¤ì œ RFP í”„ë¡œì íŠ¸ ë‹µë³€ ìŠ¹ê²© (origin = "PROJECT")

ê·¸ëŸ¬ë‚˜ â€œíŒ©íŠ¸(facts)â€ê°€ ë°”ë€ŒëŠ” ìˆœê°„ì—ëŠ” ë°˜ë“œì‹œ Manager ìŠ¹ì¸ì„ ê±°ì¹œë‹¤.

SLA ìˆ˜ì¹˜, ì¸ì¦ ë³´ìœ  ì—¬ë¶€, ì„œë¹„ìŠ¤ ë²”ìœ„ ë“±

GuardrailëŠ” ë‹¤ìŒì„ ìë™ ì°¨ë‹¨/ê²½ê³ í•œë‹¤:

íŒ©íŠ¸ ìœ„ë°˜ (factsì™€ ëª¨ìˆœë˜ëŠ” í‘œí˜„)

ê³¼ì¥ í‘œí˜„ (â€œ100% ë³´ì¥â€, â€œë¬´ì œí•œâ€, â€œì˜êµ¬ì â€ ë“±)

ê¸ˆì§€ì–´(Blacklist)ì— í•´ë‹¹í•˜ëŠ” í‘œí˜„

4) Project-First Architecture

ì •ë‹µ(Answer) ìì²´ê°€ ì•„ë‹ˆë¼, **í”„ë¡œì íŠ¸(RFP)**ê°€ 1ê¸‰ ì‹œë¯¼(First-Class)ì´ë‹¤.

ë™ì¼í•œ â€œë³´ì•ˆ ì¸ì¦â€ ì •ë³´ë¼ë„
êµ­ë°©/ê³µê³µ/ê¸ˆìœµ/ë¯¼ê°„ SaaS í”„ë¡œì íŠ¸ë§ˆë‹¤
ìš”êµ¬ì‚¬í•­, ê°•ì¡° í¬ì¸íŠ¸, ì œì•ˆ êµ¬ì¡°ê°€ ë‹¤ë¥´ë‹¤.

AnswerCardëŠ” **â€œí‘œì¤€ ë¸”ë¡(Standard Block)â€**ì´ë©°,
ì‹¤ì œ ì–´ë–¤ í‘œí˜„ì„ ì“¸ì§€ëŠ”
í•­ìƒ í˜„ì¬ Project Context ìœ„ì—ì„œ ê²°ì •í•œë‹¤.

5) Auditable by Design

ì—”í„°í”„ë¼ì´ì¦ˆì—ì„œëŠ” ê¸°ëŠ¥ë³´ë‹¤
**â€œëˆ„ê°€, ì–¸ì œ, ë¬´ì—‡ì„ ìŠ¹ì¸í–ˆëŠ”ì§€â€**ê°€ ë” ì¤‘ìš”í•˜ë‹¤.

AnswerCard, Variant, Requirement ìƒíƒœ ë³€ê²½ì€ ëª¨ë‘ AuditLogì— ë‚¨ê¸´ë‹¤.

Vertex/Gemini/OpenAI í˜¸ì¶œì˜ ì…ë ¥Â·ì¶œë ¥ë„
í•„ìš” ì‹œ debug_payloadë¡œ ìŠ¤ëƒ…ìƒ·ì„ ë‚¨ê²¨
â€œì™œ ì´ ë‹µë³€ì´ ë‚˜ì™”ëŠ”ì§€â€ë¥¼ ì‚¬í›„ ë¶„ì„í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤.

ì™„ì „í•œ ì•Œê³ ë¦¬ì¦˜ ì¬í˜„ì€ ë¶ˆê°€ëŠ¥í•˜ë”ë¼ë„,
**â€œë‹¹ì‹œ AIê°€ ì–´ë–¤ ë‚´ìš©ì„ ê·¼ê±°ë¡œ ì–´ë–¤ ê²°ê³¼ë¥¼ ì œì‹œí–ˆëŠ”ì§€â€**ëŠ” ì¦ëª… ê°€ëŠ¥í•´ì•¼ í•œë‹¤.

1-3. í•µì‹¬ ê°€ì¹˜ ì œì•ˆ (Core Value Proposition)

ğŸ›¡ï¸ Rapid Trust Calibration (Guided Onboarding)

ì´ˆê¸° ì„¤ì •/íŠœë‹ ëŒ€ì‹ , AIê°€ 98%ë¥¼ ìë™ ì²˜ë¦¬í•˜ê³  **ê²°ì •ì ì¸ 2%**ë§Œ ì‚¬ìš©ì ìŠ¹ì¸ì„ ë°›ëŠ”ë‹¤.

ì‚¬ìš©ìëŠ” â€œëª¨ë“  ê±¸ ì…ë ¥í•˜ëŠ” ì‚¬ëŒâ€ì´ ì•„ë‹ˆë¼
**â€œí•µì‹¬ ê²°ì •ì„ ë‚´ë ¤ì£¼ëŠ” Reviewerâ€**ë¡œ ëŠë¼ê²Œ ëœë‹¤.

âš“ Source-Anchored Knowledge Block: AnswerCard

AnswerCardëŠ” ë‹¨ìˆœ í…ìŠ¤íŠ¸ ë¸”ë¡ì´ ì•„ë‹ˆë‹¤.

ì›ë³¸ ë¬¸ì„œ(Document) + Anchors(í•´ì‹œ, ì„¹ì…˜, ë ˆì´ì•„ì›ƒ) + Facts + Variantsê°€ ë¬¶ì¸
**â€œFigma-style ì—°ê²° ê°ì²´â€**ë‹¤.

Vertex/GeminiëŠ” ë°”ë€” ìˆ˜ ìˆì§€ë§Œ,
í•œ ë²ˆ ìŠ¹ì¸ëœ AnswerCardëŠ” í•­ìƒ ë™ì¼í•œ ê·¼ê±°ë¥¼ ì°¸ì¡°í•œë‹¤.

ğŸ§¬ Controlled Darwinian Evolution

ì œì•ˆì„œë¥¼ ì—¬ëŸ¬ ë²ˆ ì“°ë‹¤ ë³´ë©´:

ì˜ ë¨¹íˆëŠ” í‘œí˜„/êµ¬ì¡°ê°€ ìì—°ìŠ¤ëŸ½ê²Œ ìŒ“ì´ê³ ,

íŠ¹ì • ì‚°ì—…/ê¸°ê´€ì—ì„œ ìì£¼ ì“°ì¸ ë‹µë³€ íŒ¨í„´ì´ ë‚˜íƒ€ë‚œë‹¤.

ì´ íŒ¨í„´ì€ AnswerCardì— Variantë¡œ ì¶•ì ëœë‹¤.

ë‹¨, Facts ë³€ê²½ì€ í•­ìƒ Manager ìŠ¹ì¸ ì•„ë˜ì—ì„œë§Œ ì¼ì–´ë‚œë‹¤.

ğŸ—‚ï¸ Project Context Awareness

RFPì˜ ì‚°ì—…/ê¸°ê´€/ì…ì°° ìœ í˜•ì— ë”°ë¼:

ì¶”ì²œ AnswerCard

ì œì•ˆì„œ ëª©ì°¨(Proposal Template)

í†¤ & ìŠ¤íƒ€ì¼
ì´ ë‹¬ë¼ì ¸ì•¼ í•œë‹¤.

ê°™ì€ AnswerCardë¼ë„:

êµ­ë°© RFPì—ì„œëŠ” ë°©ì‚°/ë³´ì•ˆ ê°•ì¡°,

ê¸ˆìœµ RFPì—ì„œëŠ” ì•ˆì •ì„±/ê·œì œì¤€ìˆ˜ ê°•ì¡°
ì™€ ê°™ì´ ì»¨í…ìŠ¤íŠ¸ì— ë”°ë¼ ì‚¬ìš© ë°©ì‹ì´ ë‹¬ë¼ì§„ë‹¤.

ğŸ§© Proposal Assembly

RFP Requirement â†’ AnswerCard ë§¤í•‘ ê²°ê³¼ë¥¼ ë°”íƒ•ìœ¼ë¡œ:

ì œì•ˆì„œ ìŠ¤ì¼ˆë ˆí†¤(ëª©ì°¨ + ì„¹ì…˜ êµ¬ì¡°) ìë™ ìƒì„±

ê° ì„¹ì…˜ì— APPROVED Variantë¥¼ ìš°ì„  ë°°ì¹˜

ì‚¬ìš©ìëŠ” â€œí•œ ì¤„ í•œ ì¤„ ë¬¸ì¥ì„ ì“°ê¸°â€ë³´ë‹¤
â€œì¹´ë“œì™€ ì„¹ì…˜ì„ ì„ íƒí•˜ê³  ì¡°ì •í•˜ëŠ” Navigatorâ€ ì—­í• ì— ì§‘ì¤‘í•œë‹¤.

ğŸ” Auditability

ëª¨ë“  ìŠ¹ì¸, ê±°ì ˆ, í¸ì§‘, ì—…ë°ì´íŠ¸ëŠ” AuditLogì— ê¸°ë¡ëœë‹¤.

ë‚˜ì¤‘ì— â€œì´ ë¬¸ì¥ì€ ì–´ë””ì„œ ì™”ë‚˜?â€ë¼ê³  ì§ˆë¬¸í•˜ë©´:

ì–´ë–¤ AnswerCard

ì–´ë–¤ ì›ë³¸ ë¬¸ì„œ

ì–´ë–¤ RFP í”„ë¡œì íŠ¸/Requirement
ì—ì„œ íŒŒìƒëëŠ”ì§€ ì—­ì¶”ì í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤.

Section 2. ê¸°ìˆ  ìŠ¤í™ ë° ì•„í‚¤í…ì²˜ (Technical Specifications)

ë¬¸ë§¥(Context)
ì´ ì„¹ì…˜ì€ **êµ¬í˜„(Implementation)**ì„ ìœ„í•œ êµ¬ì²´ì ì¸ ëª…ì„¸ì…ë‹ˆë‹¤.
ë³€ìˆ˜ëª…, ë°ì´í„° êµ¬ì¡°, ë””ë ‰í† ë¦¬ êµ¬ì¡°ëŠ” ì´ ê¸°ì¤€ì„ ì—„ê²©íˆ ë”°ë¦…ë‹ˆë‹¤.

2-1. ê¸°ìˆ  ìŠ¤íƒ (Tech Stack)

Backend

Python 3.11 / FastAPI

ì»¨í…Œì´ë„ˆ ê¸°ë°˜, AWS App Runnerì— ë°°í¬

í•„ìš” ì‹œ AWS ECS Fargateë¡œ ì´ì „ ê°€ëŠ¥

Frontend

React + Vite

Database (Meta & Logic)

PostgreSQL

Extensions: pgvector, pg_trgm, JSONB

Storage (Files)

AWS S3 (ì›ë³¸ ì˜êµ¬ ë³´ì¡´)

/raw/{project_id}/{file_id}: ì›ë³¸ íŒŒì¼

/parsed/...: í•„ìš” ì‹œ ì¤‘ê°„ ì‚°ì¶œë¬¼

AI Models & External Services

Document Understanding & RFP Shredding (ë‹¨ì¼ ë¬¸ì„œ ì‹¬ì¸µ í•´ë…)

Google Vertex AI â€“ Gemini 3.0 Pro (Vision/Pro)

HWP/PPT ë“± ë¹„ì •í˜• í¬ë§·ì„ ê³ í•´ìƒë„ PDFë¡œ ë³€í™˜í•œ ë’¤ Vision ì…ë ¥

ë³µì¡í•œ í‘œ, ë¨¸ë¦¬ë§/ê¼¬ë¦¬ë§, ë‹¤ë‹¨ ë ˆì´ì•„ì›ƒê¹Œì§€ í¬í•¨í•œ ë¬¸ì„œ ì „ì²´ êµ¬ì¡° ì¸ì‹

RFP ë§ˆìŠ¤í„°ì—ì„œ:

ìš”êµ¬ì‚¬í•­ ë¦¬ìŠ¤íŠ¸(rfp_requirement)

í”„ë¡œì íŠ¸ ìš”ì•½(Project.description)

ë§ˆê°ì¼(Project.deadline)

í‰ê°€ ê¸°ì¤€, ì œì¶œ ì„œë¥˜ ë“± ì¶”ê°€ ë©”íƒ€ë°ì´í„° ì¶”ì¶œ

ìš©ë„: RFP ë§ˆìŠ¤í„°(ê³µê³ ë¬¸/ê³¼ì—…ì§€ì‹œì„œ) ì „ìš©.
ì‚¬ë‚´ ì§€ì‹ ë¬¸ì„œì—ëŠ” ì‚¬ìš©í•˜ì§€ ì•Šê³ , Project ìƒì„± ì‹œ 1íšŒì„± Deep Parsingì— ì§‘ì¤‘.

Knowledge Hub Retrieval & Advanced Indexing (ì‚¬ë‚´ ì§€ì‹ ê²€ìƒ‰)

Google Vertex AI Search (Advanced ëª¨ë“œ)

ì‚¬ë‚´ í‘œì¤€ ì œì•ˆì„œ, ë°±ì„œ, ì •ì±…, ì¸ì¦ì„œ ë“±
ì¬ì‚¬ìš© ê°€ì¹˜ê°€ ë†’ì€ ë¬¸ì„œë¥¼ Advanced ëª¨ë“œë¡œ ì¸ë±ì‹±

OCR + í‘œ + ì´ë¯¸ì§€ + ë ˆì´ì•„ì›ƒê¹Œì§€ í¬í•¨í•œ ê³ í’ˆì§ˆ RAG

AnswerCard í›„ë³´ ë§ˆì´ë‹ ë° â€œë¹ˆ êµ¬ì—­â€ ë³´ê°•ìš© RAGë¡œ í™œìš©

ìš©ë„: Knowledge Hub(ì‚¬ë‚´ ë¬¸ì„œ) ì „ìš© RAG ì—”ì§„.

Drafting & Guardrails (ì œì•ˆ ë¬¸ì¥ ìƒì„± ë° ê²€ì¦)

OpenAI GPT-5.1

Requirement + AnswerCard + (í•„ìš” ì‹œ Vertex ê·¼ê±°)ë¥¼ ì…ë ¥ìœ¼ë¡œ
ì‹¤ì œ ì œì•ˆ ë¬¸ì¥ ìƒì„± (Drafting)

Guardrail ë¡œì§ê³¼ ê²°í•©í•˜ì—¬:

Factsì™€ ë¹„êµ

ê³¼ì¥/ê¸ˆì§€ì–´ íƒì§€

Risk Level íŒì •

OpenAI text-embedding-3-small

AnswerCard / Requirement / Project-level ìœ ì‚¬ë„ ê³„ì‚°ìš© ì„ë² ë”©

PostgreSQL pgvectorì™€ ì—°ê³„

Security & Multi-Tenancy

Multi-tenancy (Workspace â†’ Group â†’ Project)

Role-Based Access Control (RBAC):

Admin / Manager / Viewer

Managerë§Œ:

Fact Change Proposal ìŠ¹ì¸

High Risk Variant ìŠ¹ì¸ ê°€ëŠ¥

2-2. ë°ì´í„° ëª¨ë¸ë§ (Schema)

ì•„ë˜ êµ¬ì¡°ëŠ” JSON/Python Dict í˜•íƒœë¡œ í‘œí˜„ëœ DB ìŠ¤í‚¤ë§ˆ ëª…ì„¸ì„.

A. Project (1ê¸‰ ì‹œë¯¼)
project {
  "id": "UUID",
  "workspace": "personal | team",
  "group_id": "UUID",
  "name": "2024_êµ­ë°©RFP",
  "industry": "defense",
  "rfp_type": "technical",
  "evaluation_criteria": { },
  "required_documents": [ ],
  "prohibited_phrases": [ ],
  "created_at": "timestamp",
  "owner_id": "UUID",
  "status": "active | archived | completed",
  "deadline": "timestamp (ISO 8601)",
  "description": "text (Project Summary extracted from RFP)"
}

B. RFP Requirement (Auto Shredding)
rfp_requirement {
  "id": "UUID",
  "project_id": "UUID",
  "requirement_text": "text",
  "requirement_type": "security | ops | ...",
  "compliance_level": "YES | PARTIAL | NO",
  "linked_answer_cards": ["UUID", ...],
  "anchor_confidence": 0.88,         // 0.0 if generated by AI (No source match)
  "status": "pending | approved | rejected"
}

C. AnswerCard (Source-Anchored, Evolvable Block)
answer_card {
  "id": "UUID",
  "project_id": "UUID (nullable, origin tracking)",
  "origin": "MINED | PROJECT",
  "status": "ACTIVE | DEPRECATED",
  "topic": "ë³´ì•ˆ ì¸ì¦",
  "anchors": [
    {
      "content_hash": "SHA256...",
      "text_snippet": "ISO27001",
      "anchor_confidence": 0.93,
      "doc_id": "uuid",
      "section_path": "3.1 ë³´ì•ˆ",
      "page": 5,
      "bbox": [100, 200, 500, 350],
      "gcs_uri": "gs://bucket/path/file.pdf",
      "fail_reasons": ["layout_parse_failed"]
    }
  ],
  "facts": {
    "sla": 99.5,
    "cert": "ISO27001"
  },
  "variants": [
    {
      "content": "ìš°ë¦¬ëŠ” ISO27001 ì¸ì¦ì„ ë³´ìœ í•˜ê³  ìˆìŠµë‹ˆë‹¤.",
      "context": "public-sector",
      "status": "APPROVED",
      "risk_level": "SAFE",
      "usage_count": 50,
      "approved_by": "manager@corp.com",
      "created_from": "MINED"
    },
    {
      "content": "í•´ë‹¹ í”„ë¡œì íŠ¸ì—ì„œ ê³ ê°ì˜ ë³´ì•ˆ ìš”êµ¬ë¥¼ ì¶©ì¡±í•˜ê¸° ìœ„í•´ ISO27001 ì¸ì¦ ê¸°ë°˜ì˜ ìš´ì˜ í”„ë¡œì„¸ìŠ¤ë¥¼ ì œê³µí•©ë‹ˆë‹¤.",
      "context": "defense-rfp",
      "status": "APPROVED",
      "risk_level": "SAFE",
      "usage_count": 5,
      "approved_by": "manager@corp.com",
      "created_from": "PROJECT_RESPONSE"
    },
    {
      "content": "ë‹¹ì‚¬ SLA 100% ë³´ì¥!",
      "context": "sales_pitch",
      "status": "REJECTED",
      "risk_level": "HIGH"
    }
  ],
  "past_proposals": [
    {
      "project_id": "UUID",
      "requirement_id": "UUID",
      "used_at": "timestamp"
    }
  ]
}


AnswerCard ìƒì„±Â·ì§„í™” ìš”ì•½

origin = "MINED": Vertex AI Search ê¸°ë°˜ ì‚¬ë‚´ ë¬¸ì„œ ë§ˆì´ë‹

origin = "PROJECT": ì‹¤ì œ RFP í”„ë¡œì íŠ¸ì—ì„œ ìŠ¹ì¸ëœ ë‹µë³€ ìŠ¹ê²©

ì¼ë°˜ ì‚¬ìš©ìëŠ” AnswerCardë¥¼ ì§ì ‘ ë§Œë“¤ê¸°ë³´ë‹¤,
Project Workspaceì—ì„œ ë‹µë³€ì„ ìŠ¹ì¸/ìˆ˜ì •í•˜ëŠ” ê²½í—˜ë§Œ í•œë‹¤.
(Answer LibraryëŠ” Manager/Adminìš© ê²€ìˆ˜ ë·°)

D. Proposal Template & Audit Log
proposal_template {
  "id": "UUID",
  "industry": "public",
  "section_order": [
    {
      "id": "company_overview",
      "recommended_cards": [ ]
    }
  ]
}

audit_log {
  "id": "UUID",
  "entity_type": "answer_card | variant | conflict | upload | requirement | project | llm_call",
  "entity_id": "UUID",
  "action": "approve | reject | edit | upload | auto_generate | search | shred | suggest_answer | assemble_proposal",
  "user_id": "string",
  "timestamp": "timestamp",
  "diff_snapshot": { },
  "debug_payload": { }
}

E. Document (Source File & Folder)
document {
  "id": "UUID",
  "workspace": "personal | team",
  "group_id": "UUID",           // NULL: Knowledge Hub / Project ID: Project-local
  "title": "filename.pdf or FolderName",
  "s3_key_raw": "string (nullable for folders)",
  "sha256": "string",
  "created_at": "timestamp",
  "parent_id": "UUID (nullable, self-reference)",
  "is_folder": "boolean (default false)",
  "vertex_sync_status": "PENDING | SYNCED | ERROR",
  "last_vertex_sync_at": "timestamp (nullable)",
  "last_sync_error": "text (nullable)"
}


[NOTE] Unified Document Table

Physical Storage

ëª¨ë“  ë¬¸ì„œ(Source Docs & Project RFPs & Attachments)ë¥¼ í•˜ë‚˜ì˜ document í…Œì´ë¸”ì— ì €ì¥

íŒŒì‹±/ì¶”ì¶œ/ê¶Œí•œ ì œì–´ ë¡œì§ ì¬ì‚¬ìš©

Logical Separation

Source Documents (Knowledge Hub)

group_id IS NULL ë˜ëŠ” ë³„ë„ Library ID

í´ë”(is_folder = true) êµ¬ì¡° í—ˆìš©

Vertex AI Search Advanced ì¸ë±ì‹± ëŒ€ìƒ

Project RFPs & Attachments (Project Workspace)

group_id = project_id

RFP ë§ˆìŠ¤í„°: Gemini Shredding ëŒ€ìƒ (Vertex ì¸ë±ì‹± X)

ì²¨ë¶€ ë¬¸ì„œ: Project-local RAG/Anchor ìš©ë„

Duplicate Policy

ë™ì¼í•œ sha256ì´ ê°™ì€ workspace ë‚´ì— ì¡´ì¬í•  ìˆ˜ ìˆìŒ
(ê°™ì€ íŒŒì¼ì„ ì—¬ëŸ¬ í”„ë¡œì íŠ¸ì—ì„œ ì¬ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡)

ì•± ë ˆë²¨(ingest.py)ì—ì„œ í”„ë¡œì íŠ¸ ë‹¨ìœ„/Knowledge Hub ë‹¨ìœ„ ì¤‘ë³µ ì œì–´

2-3. í•µì‹¬ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ (Pipelines)

í•µì‹¬ íŒŒì´í”„ë¼ì¸ì€ ì„¸ ì¶•ìœ¼ë¡œ ë‚˜ë‰œë‹¤:

Knowledge Hub íŒŒì´í”„ë¼ì¸

ì‚¬ë‚´ ë¬¸ì„œ â†’ Vertex AI Search â†’ AnswerCard í›„ë³´ (Lazy Mining)

RFP Shredding íŒŒì´í”„ë¼ì¸

RFP ë§ˆìŠ¤í„° â†’ Gemini 3.0 Pro â†’ rfp_requirement + Project ë©”íƒ€ë°ì´í„°

Compliance & Proposal íŒŒì´í”„ë¼ì¸

Requirement â†” AnswerCard â†” Vertex â†” GPT-5.1

2-3-A. Knowledge Hub Pipeline

(Source Docs â†’ Vertex â†’ AnswerCard í›„ë³´, + Vertex Sync Policy í¬í•¨)

Step KH-1 â€“ Zero Ingestion (ì—…ë¡œë“œ & ì¤‘ë³µÂ·ì¶©ëŒ ê°ì§€)

ì‚¬ë‚´ ë¬¸ì„œ ì—…ë¡œë“œ ì‹œ:

document ë ˆì½”ë“œ ìƒì„±

SHA256 í•´ì‹œ ê³„ì‚°

ë™ì¼ í•´ì‹œ ë° íŒŒì¼ëª…/ê²½ë¡œ ê¸°ë°˜ ì¶©ëŒ ê°ì§€

ì—‘ì…€ ìŠ¤íƒ€ì¼ Batch Conflict Resolverì—ì„œ:

Keep Old / Keep New / Merge ë“± ì‚¬ìš©ì ì„ íƒ

vertex_sync_status = "PENDING" ìœ¼ë¡œ ë§ˆí‚¹

Step KH-2 â€“ Vertex AI Search Advanced ì¸ë±ì‹±

í•„ìš” ì‹œ HWP/PPT â†’ PDF ë³€í™˜

Vertex AI Search Advancedì— ë¬¸ì„œ ë“±ë¡

structData ë©”íƒ€ë°ì´í„° ì˜ˆ:

doc_id, workspace, group_id, industry, doc_type,
status, version, is_latest

ì¸ë±ì‹± ì„±ê³µ:

vertex_sync_status = "SYNCED", last_vertex_sync_at = now()

ì¸ë±ì‹± ì‹¤íŒ¨:

vertex_sync_status = "ERROR", last_sync_errorì— ë©”ì‹œì§€ ê¸°ë¡

Step KH-2-B â€“ Vertex Sync Policy (ì •í•©ì„± ìœ ì§€ ì •ì±…)

ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸

ë¬¸ì„œ ìƒì„±/ìˆ˜ì •/ì‚­ì œ ì‹œ Vertex ì¸ë±ìŠ¤ì— ì¦‰ì‹œ ë°˜ì˜ ì‹œë„

ì‹¤íŒ¨ ì‹œ vertex_sync_status="ERROR"ë¡œ ë‚¨ê¸°ê³ ,
ì¬ì‹œë„ëŠ” ë°°ì¹˜ Jobì´ ì²˜ë¦¬

ì•¼ê°„ Reconciliation Batch (ì˜ˆ: ë§¤ì¼ 00:00)

DB ê¸°ì¤€ê³¼ Vertex ì¸ë±ìŠ¤ ìƒíƒœë¥¼ ì •ë ¬:

DBì— status="ACTIVE"ì¸ë° Vertexì— ì—†ëŠ” ë¬¸ì„œ â†’ ì¬ë“±ë¡

DBì— status="DELETED"ì¸ë° Vertexì— ë‚¨ì•„ ìˆëŠ” ë¬¸ì„œ â†’ ì‚­ì œ

vertex_sync_status="ERROR"ì¸ ë¬¸ì„œ â†’ ì¬ì‹œë„

ëª©í‘œ:
ì¥ê¸°ì ìœ¼ë¡œ â€œDBê°€ Truth, VertexëŠ” ê·¸ ìºì‹œâ€ ìƒíƒœë¥¼ ìœ ì§€

Step KH-3 â€“ AnswerCard í›„ë³´ Lazy Mining (ë¹„ìš© í†µì œ)

ì „ìˆ˜ ìŠ¤ìº”(Full Scan)ìœ¼ë¡œ ëª¨ë“  ë¬¸ë‹¨ì„ ì¹´ë“œí™”í•˜ì§€ ì•ŠëŠ”ë‹¤.
Lazy Mining ì›ì¹™:

ê¸ˆì§€:

ì—…ë¡œë“œ ì‹œ ì „ì²´ ë³¸ë¬¸ì„ GPT-5.1ì— ë³´ë‚´
â€œì´ ë¬¸ì„œì—ì„œ ì¤‘ìš”í•œ ë¬¸ë‹¨ì„ ëª¨ë‘ AnswerCardë¡œ ë§Œë“¤ì–´ì¤˜â€
ê°™ì€ í˜¸ì¶œì€ ë¹„ìš© í­íƒ„ì´ë¯€ë¡œ í•˜ì§€ ì•ŠëŠ”ë‹¤.

ë‹¤ìŒ ê²½ìš°ì—ë§Œ GPT-5.1 í˜¸ì¶œ:

ì‚¬ìš©ì ì£¼ë„ ì¹´ë“œí™”

ì‚¬ìš©ìê°€ íŠ¹ì • ë¬¸ë‹¨/í‘œë¥¼ ë“œë˜ê·¸ & ì„ íƒ
â†’ â€œí‘œì¤€ ë‹µë³€ ì¹´ë“œë¡œ ì €ì¥í•˜ê¸°(Create AnswerCard)â€ í´ë¦­

ë°±ì—”ë“œì—ì„œ Vertexë¥¼ í†µí•´ ì£¼ë³€ ë¬¸ë§¥/ë ˆì´ì•„ì›ƒì„ ë³´ê°•í•œ ë’¤
GPT-5.1ì— ì „ë‹¬ â†’ topic, facts, variants[0] ì´ˆì•ˆ ìƒì„±

ì‚¬ìš© íŒ¨í„´ ê¸°ë°˜ ìë™ í›„ë³´í™”

íŠ¹ì • ë¬¸ë‹¨/í‘œê°€ ì—¬ëŸ¬ RFP í”„ë¡œì íŠ¸ì—ì„œ ë°˜ë³µì ìœ¼ë¡œ ì¸ìš©ë˜ê±°ë‚˜
ê²€ìƒ‰/ì„ íƒ ë¹ˆë„ê°€ Threshold ì´ìƒì´ë©´
ë¹„ë™ê¸° Jobì´ í•´ë‹¹ ì˜ì—­ì„ GPT-5.1ì— ë³´ë‚´
â€œí‘œì¤€ ì¹´ë“œ í›„ë³´â€ë¡œ ìš”ì•½ ìš”ì²­

ìƒì„±ëœ í›„ë³´ëŠ” answer_cardë¡œ ì €ì¥:

origin = "MINED"

anchors: doc_id, page, text_snippet, content_hash ë“±

facts: SLA, ì¸ì¦, ëª¨ë“ˆ êµ¬ì„± ë“± êµ¬ì¡°í™” ì •ë³´ (ê°€ëŠ¥í•œ ë²”ìœ„)

variants: ê¸°ë³¸ ì„¤ëª… ë¬¸ì¥ (ì´ˆê¸° ìƒíƒœëŠ” APPROVED ë˜ëŠ” CANDIDATE ì •ì±…ì— ë”°ë¦„)

Step KH-4 â€“ Manager Curation (ì„ íƒì  ê³ ë„í™”)

Manager/Adminì€ Answer Libraryì—ì„œ:

ì˜ëª»ëœ ì¹´ë“œ/Variantë¥¼ DEPRECATED / REJECTEDë¡œ ì²˜ë¦¬

Fact ë³€ê²½ì´ í•„ìš”í•œ ê²½ìš° Fact Change Proposal ìƒì„± ë° ìŠ¹ì¸

ì¼ë°˜ ì‚¬ìš©ìëŠ” ì´ í™”ë©´ì„ ìì£¼ ì“¸ í•„ìš” ì—†ë‹¤.
â†’ â€œAIê°€ ë‚´ë¶€ ë¬¸ì„œë¥¼ ì˜ ì´í•´í•˜ê³  ìˆëŠ”ì§€â€ë¥¼ ê°€ë” ê²€ìˆ˜í•˜ëŠ” ë ˆë²¨

2-3-B. RFP Shredding Pipeline

(RFP Master â†’ Universal PDF Service â†’ Gemini 3.0 Pro â†’ rfp_requirement)

Step RFP-1 â€“ Project ìƒì„± & RFP ì—…ë¡œë“œ

[+ New Project] í´ë¦­ â†’ ê³µê³ ë¬¸/ê³¼ì—…ì§€ì‹œì„œ ì—…ë¡œë“œ

project ë ˆì½”ë“œ ìƒì„±

documentì— RFP ë§ˆìŠ¤í„° ë“±ë¡ (group_id = project_id)

ì´ ë¬¸ì„œëŠ” Vertex ì¸ë±ì‹± ëŒ€ìƒì´ ì•„ë‹ˆë‹¤. (Project ì „ìš©)

Step RFP-2 â€“ Universal PDF Service (SPOF ë°©ì§€)

**Universal PDF Service (ì „ìš© ë³€í™˜ ì»¨í…Œì´ë„ˆ)**ì—ì„œ
HWP/PPT/DOCX â†’ ê³ í•´ìƒë„ PDFë¡œ ë³€í™˜

í•œê¸€/HWP ì „ìš© í°íŠ¸ í¬í•¨ Docker ì´ë¯¸ì§€

/healthë¡œ ìƒíƒœ ëª¨ë‹ˆí„°ë§

ë³€í™˜ëœ PDFëŠ” S3ì— ì €ì¥ (Gemini ì…ë ¥ìš©)

ë³€í™˜ í’ˆì§ˆ/ì‹¤íŒ¨ Fallback ì •ì±…

ë ˆì´ì•„ì›ƒ ë³´ì¡´ ì‹¤íŒ¨ ê°ì§€ (í‘œ ê¹¨ì§ ë“±):

ë¡œê·¸ì— í”Œë˜ê·¸ ê¸°ë¡

Shredding ì‹œ â€œí…ìŠ¤íŠ¸ ê¸°ë°˜ ë¶„ì„ ëª¨ë“œâ€ë¡œ ê°•ë“±

UIì— â€œê³ í’ˆì§ˆ íŒŒì‹± ì‹¤íŒ¨, ì¼ë¶€ êµ¬ì¡° ì†ì‹¤ ê°€ëŠ¥â€ ê²½ê³  í‘œì‹œ

ë³€í™˜ ì™„ì „ ì‹¤íŒ¨:

ì—…ë¡œë“œ Stepì—ì„œ ì—ëŸ¬ ë°˜í™˜

ì›ë³¸ íŒŒì¼ì€ S3ì— ë³´ì¡´ (ì‚¬í›„ ìˆ˜ë™ ì²˜ë¦¬ ê°€ëŠ¥)

Step RFP-2-B â€“ Context Caching (ë¹„ìš© ìµœì í™”)

ë³€í™˜ëœ RFP PDFëŠ” Gemini 3.0 Pro í˜¸ì¶œ ì „
Context Cacheì— ì—…ë¡œë“œ (TTL ì˜ˆ: 1~2ì‹œê°„)

í•˜ë‚˜ì˜ RFPì— ëŒ€í•´:

Shredding, Summary, Deadline ì¶”ì¶œ ë“± ì—¬ëŸ¬ LLM í˜¸ì¶œ í•„ìš”

Cache IDë¥¼ ì¬ì‚¬ìš©í•˜ì—¬ í† í° ë¹„ìš© ì ˆê°

Step RFP-3 â€“ Gemini 3.0 Pro Vision/Pro Shredding

ëª¨ë¸: Gemini 3.0 Pro (Vision/Pro, Thinking Mode ON)

ì…ë ¥:

ë³€í™˜ëœ PDF ë˜ëŠ” Cache Reference

â€œì´ ë¬¸ì„œëŠ” í•œêµ­ ê³µê³µ/ë¯¼ê°„ ì œì•ˆìš”ì²­ì„œ(RFP)ë‹¤â€ë¼ëŠ” ë„ë©”ì¸ ì„¤ëª…

RFP êµ¬ì¡° JSON Schema (rfp_requirement, evaluation_criteria, deadline, summary, â€¦)

ì¶œë ¥(JSON):

rfp_requirement[] ë¦¬ìŠ¤íŠ¸

Project-level summary (project.description)

Project deadline

ê¸°íƒ€ í‰ê°€ ê¸°ì¤€, ì œì¶œ ì„œë¥˜ ë¦¬ìŠ¤íŠ¸ ë“± (í•„ìš” ì‹œ í™•ì¥)

Step RFP-4 â€“ DB ì €ì¥ ë° Anchoring

rfp_requirement í…Œì´ë¸”ì— ìš”êµ¬ì‚¬í•­ ì €ì¥

project ë ˆì½”ë“œì— summary, deadline ë°˜ì˜

ê° Requirementë³„ë¡œ Anchor ì •ë³´ ì €ì¥:

source_doc_id (document.id)

page, section_path (Best Effort)

source_snippet (ì›ë¬¸ ë¬¸ì¥/ë¬¸ë‹¨)

content_hash (SHA256)

ì´í›„ Compliance/Proposal ë‹¨ê³„ì—ì„œëŠ”
Geminië¥¼ ì¬í˜¸ì¶œí•˜ì§€ ì•Šê³  DB ê¸°ë°˜ìœ¼ë¡œë§Œ ë™ì‘

Step RFP-5 â€“ ì‹¤íŒ¨ ì‹œ Degradation

Shredding ì™„ì „ ì‹¤íŒ¨:

RFPë¥¼ â€œìˆ˜ë™ ëª¨ë“œ í”„ë¡œì íŠ¸â€ë¡œ ì „í™˜

UI: â€œìë™ ìš”êµ¬ì‚¬í•­ ì¶”ì¶œ ì‹¤íŒ¨ â€“ ìˆ˜ë™ ë“±ë¡ ëª¨ë“œë¡œ ì „í™˜í•©ë‹ˆë‹¤â€

ë¶€ë¶„ ì‹¤íŒ¨:

Summary/Deadline ë“± ì„±ê³µí•œ í•„ë“œë§Œ Projectì— ë°˜ì˜

RequirementsëŠ” ìˆ˜ë™ ì…ë ¥ ë˜ëŠ” í›„ì† ì¬ì‹œë„

2-3-C. Compliance & Proposal Pipeline

(Requirement â†” AnswerCard â†” Vertex â†” GPT-5.1)

Step C-1 â€“ Compliance Matrix (Requirement â†” AnswerCard ë§¤í•‘)

AnswerCard ê¸°ë°˜ ë§¤í•‘ (Primary)

rfp_requirement.requirement_textë¥¼ OpenAI Embeddingìœ¼ë¡œ ì„ë² ë”©

answer_card ë²¡í„°ì™€ pgvector ìœ ì‚¬ë„ ê²€ìƒ‰

ì‚°ì—…/ê¸°ê´€/ì…ì°° ìœ í˜• ë“± ë©”íƒ€ í•„í„° ì ìš©

ì ì ˆí•œ ì¹´ë“œê°€ ì¡´ì¬í•˜ë©´:

linked_answer_cardsì— UUID ì¶”ê°€

anchor_confidence ê³„ì‚° ë° ì €ì¥

Vertex RAG ê¸°ë°˜ ë³´ê°• (Secondary)

AnswerCardë¡œ ì»¤ë²„í•˜ì§€ ëª»í•˜ëŠ” ìš”êµ¬ì‚¬í•­ â†’ â€œë¹ˆ ì˜ì—­â€

Vertex AI Search Advancedì—ì„œ ê·¼ê±° ê²€ìƒ‰

ì°¾ì€ ìŠ¤ë‹ˆí«/í‘œ/ì´ë¯¸ì§€ ìº¡ì…˜ì„ GPT-5.1ì— í•¨ê»˜ ì „ë‹¬í•´ Draft ë³´ì™„

Step C-2 â€“ OpenAI GPT-5.1 Drafting & Guardrail

ì…ë ¥:

Requirement í…ìŠ¤íŠ¸

ì—°ê²°ëœ AnswerCard facts + APPROVED variants

(í•„ìš” ì‹œ) Vertex ìŠ¤ë‹ˆí«

Project ì»¨í…ìŠ¤íŠ¸ (industry, rfp_type, prohibited_phrases, â€¦)

ì¶œë ¥:

ì œì•ˆ ë‹µë³€ Draft í…ìŠ¤íŠ¸

Guardrail (guardrail.py):

Draft vs AnswerCard.facts ë¹„êµ

ê¸ˆì§€ì–´/ê³¼ì¥ í‘œí˜„ íƒì§€

Risk Level (SAFE / WARN / HIGH) íŒë³„

Step C-3 â€“ ì‚¬ìš©ì ìŠ¹ì¸ & AnswerCard ì§„í™”

ì‚¬ìš©ìëŠ” Project Workspaceì—ì„œ:

[Approve as-is]

[Edit & Approve]

[Reject] ë²„íŠ¼ìœ¼ë¡œ Draftë¥¼ ì²˜ë¦¬

ìŠ¹ì¸ ì‹œ:

ìœ ì‚¬ AnswerCard ì¡´ì¬:

ê¸°ì¡´ ì¹´ë“œì— Variant ì¶”ê°€ (created_from = "PROJECT_RESPONSE")

ìœ ì‚¬ AnswerCard ì—†ìŒ:

ìƒˆ AnswerCard ìƒì„± (origin = "PROJECT")

ëª¨ë“  ìŠ¹ì¸ ì‹œ:

past_proposalsì— ì‚¬ìš© ì´ë ¥ ì¶”ê°€

AIê°€ ê¸°ì¡´ factsì™€ ë‹¤ë¥¸ ìˆ˜ì¹˜ë¥¼ ì‚¬ìš©í–ˆë‹¤ë©´:

Fact Change Proposal ìƒì„±

Managerê°€ ìŠ¹ì¸í•´ì•¼ë§Œ AnswerCard.facts ì—…ë°ì´íŠ¸

2-3-D. Compliance & Audit (LLM í˜¸ì¶œ ìŠ¤ëƒ…ìƒ· ì •ì±…)

RFP OSëŠ” ë‹¨ìˆœíˆ â€œì§€ê¸ˆ ì¢‹ì€ ë‹µâ€ì´ ì•„ë‹ˆë¼,
**â€œê·¸ë•Œ AIê°€ ë¬´ì—‡ì„ ê·¼ê±°ë¡œ ê·¸ëŸ° ë‹µì„ í–ˆëŠ”ì§€â€**ë¥¼ ì„¤ëª…í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤.

D-1. LLM í˜¸ì¶œ ê¸°ë¡ ë²”ìœ„

ë‹¤ìŒ ë²”ìœ„ì˜ í˜¸ì¶œì€ Audit ëŒ€ìƒì´ë‹¤:

Vertex AI Search ê²€ìƒ‰ í˜¸ì¶œ

Gemini 3.0 Pro RFP Shredding í˜¸ì¶œ

GPT-5.1 ê¸°ë°˜ Answer Suggestion / Proposal Draft ìƒì„± í˜¸ì¶œ

ê° í˜¸ì¶œì— ëŒ€í•´ ìµœì†Œí•œ ë‹¤ìŒ ì •ë³´ë¥¼ audit_logì— ë‚¨ê¸´ë‹¤:

entity_type: "llm_call"

action: "search" | "shred" | "suggest_answer" | "assemble_proposal"

user_id ë˜ëŠ” ì‹œìŠ¤í…œ ê³„ì •

timestamp

model_name (ì˜ˆ: vertex-search, gemini-3.0-pro, gpt-5.1)

input_summary: ì „ì²´ í”„ë¡¬í”„íŠ¸ëŠ” ì•„ë‹ˆì–´ë„ ìš”ì•½ ë˜ëŠ” í•´ì‹œ

debug_payload (JSONB):

Vertex Search:

ìƒìœ„ Nê°œ ê²€ìƒ‰ ê²°ê³¼ì˜

doc_id, page, structData, text_snippet, score

Gemini Shredding:

ì¶”ì¶œëœ ìš”êµ¬ì‚¬í•­/ìš”ì•½ì˜ ì›ë³¸ source_snippet

GPT-5.1 Suggestion:

ì‹¤ì œë¡œ ì°¸ê³ í•œ AnswerCard/Anchor ëª©ë¡

D-2. â€œì¬í˜„â€ì´ ì•„ë‹Œ â€œë‹¹ì‹œ ìƒíƒœ ìŠ¤ëƒ…ìƒ·â€ ì›ì¹™

Vertex/Gemini/OpenAIì˜ ë‚´ë¶€ ì•Œê³ ë¦¬ì¦˜ì€ ì‹œê°„ì´ ì§€ë‚˜ë©° ë³€ê²½ëœë‹¤.

ë™ì¼ ì…ë ¥ìœ¼ë¡œ ë™ì¼ ê²°ê³¼ë¥¼ ì¬í˜„í•˜ëŠ” ê²ƒì€ í˜„ì‹¤ì ìœ¼ë¡œ ë¶ˆê°€ëŠ¥í•˜ë‹¤.

ë”°ë¼ì„œ ëª©í‘œëŠ”:

**â€œë‹¹ì‹œ AIê°€ ì–´ë–¤ ë‚´ìš©ì„ ê·¼ê±°ë¡œ ì–´ë–¤ ê²°ê³¼ë¥¼ ì œì‹œí–ˆëŠ”ì§€â€**ë¥¼ ì¦ëª…í•˜ëŠ” ê²ƒ.

êµ¬ì²´ì ìœ¼ë¡œ:

Vertex Search ê²°ê³¼ì— ëŒ€í•´ì„œëŠ”:

í•´ë‹¹ ì‹œì  ì‚¬ìš©ìì—ê²Œ ë…¸ì¶œëœ text_snippetì„ ê·¸ëŒ€ë¡œ AuditLogì— ì €ì¥.

Gemini/GPT-5.1ì´ ì°¸ê³ í•œ ê·¼ê±°ì— ëŒ€í•´ì„œëŠ”:

ìµœì¢… Promptì— í¬í•¨ëœ Anchor/ë¬¸ì„œ ìŠ¤ë‹ˆí«ì„ ë³„ë„ í•„ë“œë¡œ ê¸°ë¡.

2-4. ë””ë ‰í„°ë¦¬ êµ¬ì¡°
app/
 â”œâ”€ routes/               # API Endpoints
 â”œâ”€ services/
 â”‚    â”œâ”€ ingest.py        # ë¬¸ì„œ ì—…ë¡œë“œ, í•´ì‹œ, ì¤‘ë³µ/ë²„ì „ ì¶©ëŒ ê°ì§€, ë¼ìš°íŒ…
 â”‚    â”œâ”€ extract.py       # ê¸°ë³¸ í…ìŠ¤íŠ¸ ì¶”ì¶œ ë° í¬ë§· ê°ì§€
 â”‚    â”œâ”€ preprocess.py    # Text Cleaning & Structure Reconstruction
 â”‚    â”œâ”€ indexer.py       # Vertex AI Search ì¸ë±ì‹± & ë©”íƒ€ë°ì´í„° ë™ê¸°í™” (Sync Batch í¬í•¨)
 â”‚    â”œâ”€ search.py        # Semantic Search Engine (Vertex + pgvector ë˜í•‘)
 â”‚    â”œâ”€ shredder.py      # Gemini 3.0 Pro ê¸°ë°˜ RFP Shredding (ë‹¨ì¼ ë¬¸ì„œ)
 â”‚    â”œâ”€ answers.py       # AnswerCard Management (ìƒì„±/ë³€ê²½/Fact Proposal)
 â”‚    â”œâ”€ proposal.py      # Proposal Assembly Engine
 â”‚    â”œâ”€ guardrail.py     # OpenAI ê¸°ë°˜ Risk Filtering & Policy
 â”‚    â”œâ”€ chunker.py       # (í•„ìš” ì‹œ) ë‚´ë¶€ Chunking Logic
 â”‚    â”œâ”€ embed.py         # OpenAI Embedding í˜¸ì¶œ (pgvectorìš©)
 â”‚    â”œâ”€ vertex_client.py # Vertex Search/Gemini í´ë¼ì´ì–¸íŠ¸ + Search Gateway + Audit
 â”‚    â”œâ”€ openai_client.py # OpenAI GPT-5.1 & Embedding í´ë¼ì´ì–¸íŠ¸
 â”œâ”€ models/               # ORM Models
 â”‚    â”œâ”€ project.py
 â”‚    â”œâ”€ rfp_requirement.py
 â”‚    â”œâ”€ answer.py        # AnswerCard Model
 â”‚    â”œâ”€ audit_log.py
 â”‚    â”œâ”€ document.py
 â”‚    â”œâ”€ guardrail_policy.py
 â”‚    â”œâ”€ project_member.py
 â”‚    â”œâ”€ app_user.py
 â”œâ”€ secrets/              # GCP Credentials (GitIgnored)
 â””â”€ utils/
      â”œâ”€ semantic_hash.py
      â”œâ”€ debug_logger.py
      â””â”€ pdf_hwp_parser.py   # HWP/PPT â†’ PDF ë³€í™˜ ë° ê¸°ë³¸ íŒŒì‹±

Section 3. UI/UX ë””ìì¸ ìŠ¤í™ (User Interface Specifications)

ë¬¸ë§¥(Context)
ì´ ì„¹ì…˜ì€ ì‚¬ìš©ìê°€ ê²½í—˜í•  í™”ë©´ê³¼ ì¸í„°ë™ì…˜ì˜ ê¸°ì¤€ì…ë‹ˆë‹¤.
**"í¸ì§‘ ë„êµ¬(Editor)"ê°€ ì•„ë‹Œ "ë¶„ì„ ë° ìì‚°í™” ë„êµ¬(Analyzer & Asset Manager)"**ë¡œì„œì˜ ì •ì²´ì„±ì„ í™•ë¦½í•©ë‹ˆë‹¤.

3-1. ë””ìì¸ ì² í•™ (Design Philosophy)

Sanitized Professionalism (ì •ì œëœ ì „ë¬¸ì„±)

ë³µì¡í•œ ë²„íŠ¼ì´ ë‚˜ì—´ëœ ê¸°ì¡´ B2B ERP ìŠ¤íƒ€ì¼ì„ ì§€ì–‘

Google Workspace / Notionê³¼ ìœ ì‚¬í•œ
White & Light Gray ë² ì´ìŠ¤ì— Blue Primary (#0B57D0)ë¥¼ ì‚¬ìš©í•˜ì—¬
ì‹ ë¢°ê°ê³¼ ì²­ê²°í•¨ ì œê³µ

Navigator, Not Editor (ì‘ì„±í•˜ì§€ ì•Šê³  ê²°ì •í•œë‹¤)

ì‚¬ìš©ìëŠ” ì´ê³³ì—ì„œ ë¬¸ì¥ì„ â€œì‘ì„±â€í•˜ì§€ ì•ŠëŠ”ë‹¤.

AIê°€ ì°¾ì•„ë‚¸ ê²ƒÂ·ì¡°í•©í•œ ê²ƒì„
**"ìŠ¹ì¸(Approve)", "ìˆ˜ì • í›„ ìŠ¹ì¸(Edit & Approve)", "ê±°ì ˆ(Reject)"**í•  ë¿ì´ë‹¤.

ë”°ë¼ì„œ UIì˜ í•µì‹¬ì€ Input Fieldê°€ ì•„ë‹ˆë¼
Decision Button (O/X)ê³¼ Export Actionì´ë‹¤.

Trust Visualization (ê³¼ì •ì˜ ì‹œê°í™”)

ë‹¨ìˆœ "ë¡œë”© ì¤‘..." ìŠ¤í”¼ë„ˆ ëŒ€ì‹ :

"RFP êµ¬ì¡° ë¶„ì„ ì¤‘...(Gemini)"

"ì‚¬ë‚´ ì§€ì‹ ë§¤ì¹­ ì¤‘...(Vertex)"

"í‘œì¤€ ë‹µë³€ ì¡°í•© ì¤‘...(GPT-5.1)"
ê³¼ ê°™ì´ AIì˜ ì‚¬ê³  ê³¼ì •ì„ í…ìŠ¤íŠ¸ì™€ Stepperë¡œ íˆ¬ëª…í•˜ê²Œ ë³´ì—¬ì¤€ë‹¤.

3-2. ì •ë³´ êµ¬ì¡° (Information Architecture - App Shell)

í™”ë©´ì€ ì¢Œì¸¡ ê³ ì •ëœ **ì‚¬ì´ë“œë°”(LNB)**ì™€
ìš°ì¸¡ ë©”ì¸ ì›Œí¬ìŠ¤í˜ì´ìŠ¤ë¡œ êµ¬ì„±ëœë‹¤.

A. ì¢Œì¸¡ ì‚¬ì´ë“œë°” (LNB - Gemini Style)

í­: 260px (Collapsible)

ë°°ê²½: #F7F7F8 (Light Gray)

êµ¬ì¡°

Top (Action)

[+ New Project] ë²„íŠ¼ (Primary Blue)

í´ë¦­ ì‹œ ìš°ì¸¡ í™”ë©´ì´ â€œRFP ì—…ë¡œë“œ & Shredding ì˜¨ë³´ë”© í™”ë©´â€ìœ¼ë¡œ ì „í™˜

Middle (Context - Scrollable)

Recent Projects í—¤ë”

í”„ë¡œì íŠ¸ ë¦¬ìŠ¤íŠ¸ (ì˜ˆ:
ğŸ“„ 2025_êµ­ë°©ê´‘ëŒ€ì—­_ì œì•ˆ,
ğŸ“„ ê¸ˆìœµê·¸ë£¹_Cloud_RFP â€¦)

í´ë¦­ ì‹œ ìš°ì¸¡ì— í•´ë‹¹ í”„ë¡œì íŠ¸ì˜ â€˜Requirements Matrixâ€™ ë¡œë“œ

Bottom (Management - Fixed)

Divider

ğŸ›ï¸ Knowledge Hub

ğŸ“š Answer Library (ë‹µë³€ ì¹´ë“œ ê´€ë¦¬ â€“ Manager/Admin ì¤‘ì‹¬)

ğŸ“‚ Source Documents (ì›ë³¸ ë¬¸ì„œ ê´€ë¦¬ â€“ Vertex ì¸ë±ì‹± ìƒíƒœ í¬í•¨)

âš™ï¸ Admin & Team (ë©¤ë²„ ì´ˆëŒ€ ë° ê¶Œí•œ, Guardrails, Usage)

ğŸ‘¤ User Profile

3-3. í•µì‹¬ í™”ë©´ ìƒì„¸ ìŠ¤í™ (Key Screen Specs)
1) Landing & Onboarding (New Project Wizard)

ì§„ì…: [+ New Project] í´ë¦­ ì‹œ

ë ˆì´ì•„ì›ƒ: ì¤‘ì•™ ì •ë ¬, ì—¬ë°±ì´ ë§ì€ Clean View

êµ¬ì„±

Hero Message:

"ìƒˆë¡œìš´ RFP í”„ë¡œì íŠ¸ë¥¼ ì‹œì‘í•©ë‹ˆë‹¤. ê³µê³ ë¬¸ ë˜ëŠ” ê³¼ì—…ì§€ì‹œì„œë¥¼ ì—…ë¡œë“œí•˜ì„¸ìš”."

Drop Zone:

ì ì„  ë°•ìŠ¤, íŒŒì¼ ë“œë˜ê·¸ ì•¤ ë“œë¡­ (PDF/HWP/PPT/DOCX)

Sample Trigger:

"ìƒ˜í”Œ RFPë¡œ ë¶„ì„ ê²°ê³¼ ë¯¸ë¦¬ë³´ê¸°" í…ìŠ¤íŠ¸ ë§í¬

Interaction (Analysis State)

ì—…ë¡œë“œ ì¦‰ì‹œ ì¤‘ì•™ì— Progress Stepper:

RFP êµ¬ì¡° ë¶„ì„ (Gemini Shredding)

ìš”êµ¬ì‚¬í•­ íŒŒì‡„ (Requirement ì¶”ì¶œ)

ì‚¬ë‚´ ì§€ì‹ ë§¤ì¹­ (AnswerCard & Vertex ê¸°ë°˜ ë§¤ì¹­)

íŠ¹ì´ì‚¬í•­

ë™ì¼ í•´ì‹œì˜ RFPê°€ ê¸°ì¡´ í”„ë¡œì íŠ¸ì— ì¡´ì¬í•  ê²½ìš°:

â€œê¸°ì¡´ í”„ë¡œì íŠ¸ RFPì™€ ë™ì¼í•œ íŒŒì¼ì…ë‹ˆë‹¤â€ ì•Œë¦¼

ì„ íƒì§€:

ê¸°ì¡´ í”„ë¡œì íŠ¸ ì¬í™œìš©

ìƒˆ í”„ë¡œì íŠ¸ë¡œ ì§„í–‰

2) Project Workspace (Result Table)

ì§„ì…: ë¶„ì„ ì™„ë£Œ ì§í›„ ë˜ëŠ” LNBì—ì„œ í”„ë¡œì íŠ¸ í´ë¦­ ì‹œ

ë ˆì´ì•„ì›ƒ: Data Grid (Table) ì¤‘ì‹¬ â€“ í¸ì§‘ê¸°ê°€ ì•„ë‹˜

ìƒë‹¨ í—¤ë”

í”„ë¡œì íŠ¸ëª…, ì‚°ì—…/ê¸°ê´€, ë§ˆê°ì¼(D-Day)

Export Group:

[Excel], [Word] ì•„ì´ì½˜ ë²„íŠ¼ (ê°€ì¥ ì¤‘ìš”í•œ Call-to-Action)

Status Summary:

ğŸŸ¢ ì™„ë£Œ nê±´ / ğŸŸ¡ ê²€í†  í•„ìš” mê±´ / ğŸ”´ ë‹µë³€ ì—†ìŒ kê±´

ë©”ì¸ í…Œì´ë¸” (Requirements Matrix)

Status: ğŸŸ¢ ì™„ë£Œ / ğŸŸ¡ ê²€í†  í•„ìš” / ğŸ”´ ë‹µë³€ ì—†ìŒ

Requirement:

RFP ì›ë¬¸ ìš”êµ¬ì‚¬í•­ (í´ë¦­ ì‹œ ìš°ì¸¡ íŒ¨ë„ + ì›ë¬¸ íŒì—…)

AI Suggestion:

AnswerCard + Vertex + GPT-5.1 ê¸°ë°˜ ìš”ì•½ ë‹µë³€ (1~2ì¤„)

Source:

ê·¼ê±° ë¬¸ì„œ ë±ƒì§€ (ì˜ˆ:
[í‘œì¤€ì œì•ˆì„œ_v2.pdf, p.45], [ISO27001_ì¸ì¦ì„œ.pdf])

Score:

ì í•©ë„ % (Progress Bar)

Risk:

SAFE / WARN / HIGH (Guardrail ê²°ê³¼)

Slide-over Panel (Detail View)

Row í´ë¦­ ì‹œ ìš°ì¸¡ì—ì„œ ìŠ¬ë¼ì´ë“œ íŒ¨ë„:

ìƒë‹¨

Requirement ì›ë¬¸ ì „ì²´

RFP ë‚´ ìœ„ì¹˜ ì •ë³´(ì„¹ì…˜ ê²½ë¡œ, í˜ì´ì§€ ë“±)

ì¤‘ë‹¨

AI Generated Draft (Full Text)

High Risk í”Œë˜ê·¸/ì‚¬ìœ  (ìˆëŠ” ê²½ìš°)

í•˜ë‹¨

Alternative Variants (AnswerCardì˜ ê¸°ì¡´ í‘œí˜„ë“¤)

ê´€ë ¨ AnswerCard ë¦¬ìŠ¤íŠ¸

ì•¡ì…˜ ë²„íŠ¼

[Approve as-is]

[Edit & Approve]

[Reject]

3) Knowledge Hub Manager (Asset Management)

ì§„ì…: LNB > Knowledge Hub

Tab A: Answer Library

ì¹´ë“œí˜•(Grid) ë˜ëŠ” ë¦¬ìŠ¤íŠ¸í˜•(List)

ì»¬ëŸ¼:

Topic, ì£¼ìš” Facts, ì‚¬ìš©ëœ í”„ë¡œì íŠ¸ ìˆ˜, ìµœê·¼ ì‚¬ìš©ì¼ ë“±

ê²€ìƒ‰/í•„í„°:

í‚¤ì›Œë“œ, íƒœê·¸, ì‚°ì—…, origin(MINED/PROJECT), status(ACTIVE/DEPRECATED)

ì¹´ë“œ í´ë¦­ ì‹œ:

Facts í™•ì¸/í¸ì§‘ (Fact Change Proposal ìƒì„±)

Variants ìƒíƒœ ë³€ê²½ (APPROVED / REJECTED)

Anchors ë° past_proposals(ì‚¬ìš© ì´ë ¥) ì¡°íšŒ

Tab B: Source Documents

íŒŒì¼ íƒìƒ‰ê¸° ìŠ¤íƒ€ì¼

ì»¬ëŸ¼:

ë¬¸ì„œëª…, ì—…ë¡œë“œì¼, íŒŒì¼ í¬ê¸°, íŒŒì‹± ìƒíƒœ, Vertex ì¸ë±ì‹± ìƒíƒœ

ê¸°ëŠ¥:

[Re-Parse] (íŒŒì‹±/ë³€í™˜ ì¬ì‹¤í–‰)

[Re-Index] (Vertex ì¬ì¸ë±ì‹±)

[Delete]

4) Admin & Team (Settings)

ì§„ì…: LNB > Admin & Team

êµ¬ì„±

Member Management

ì´ˆëŒ€ í•„ë“œ (ì´ë©”ì¼ + [Invite])

ë©¤ë²„ ë¦¬ìŠ¤íŠ¸:

ì´ë¦„ | ì´ë©”ì¼ | ê¶Œí•œ(Role) | ìƒíƒœ

Roles:

Admin: ì„¤ì •, Guardrails, ì¸í”„ë¼/ìš”ê¸ˆ ê´€ë ¨

Manager: ë‹µë³€/Fact ìŠ¹ì¸

Viewer: ì½ê¸° ì „ìš©

Policy & Guardrails

ê¸ˆì§€ì–´(Blacklist) ê´€ë¦¬

High Risk í‚¤ì›Œë“œ ì„¤ì •

GuardrailPolicy DBì™€ ì—°ë™

Usage

í”„ë¡œì íŠ¸ë³„ í† í° ì‚¬ìš©ëŸ‰ ë° ë¹„ìš© ì¶”ì •

Vertex/Gemini/OpenAI í˜¸ì¶œ í†µê³„ ëŒ€ì‹œë³´ë“œ

3-4. ì‹œê°ì  ìŠ¤íƒ€ì¼ ê°€ì´ë“œ (Visual Style)

Color Palette

Primary: Azure Blue #0B57D0 (Action Button, Active State)

Background:

Main: #FFFFFF

Sidebar/Background: #F7F7F8

Text:

Heading: #1F1F1F

Body: #424242

Placeholder: #9AA0A6

Semantic Colors

Success (Approved): #0E7A4E

Warning (Review Needed): #EFB81A

Error/Risk (Rejected/High Risk): #D0362D

Typography

System Font Stack (San Francisco, Segoe UI, Noto Sans KR)

ë°ì´í„° í…Œì´ë¸” ë‚´ í°íŠ¸: 13px~14px (ë°€ë„ ìˆê²Œ)

Component

ëª¨ë“  ì»¨í…Œì´ë„ˆ border-radius: 8px

ShadowëŠ” ìµœì†Œí™”, border: #E0E0E0ë¡œ êµ¬íš êµ¬ë¶„

Section 4. ì‹¤í–‰ ë¡œë“œë§µ ë° ìƒíƒœ ê´€ë¦¬ (Roadmap & Milestones)

[ğŸ¤– AI Interaction Rule]
ì´ ì„¹ì…˜ì€ í”„ë¡œì íŠ¸ì˜ ì§„ì²™ë„(Progress Bar) ì—­í• ì„ í•œë‹¤.
AIëŠ” í•˜ë‚˜ì˜ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ê³ , í…ŒìŠ¤íŠ¸ê°€ í†µê³¼ë˜ì—ˆìŒì„ í™•ì¸í•˜ë©´
í•´ë‹¹ í•­ëª©ì˜ ì²´í¬ë°•ìŠ¤ë¥¼ [ ]ì—ì„œ **[x]**ë¡œ ë³€ê²½í•´ì•¼ í•œë‹¤.

ê°œë°œ ì‹œì‘ ì „, í•­ìƒ ì´ ì„¹ì…˜ì„ ì½ì–´
**í˜„ì¬ ë‹¨ê³„(Current Phase)**ì™€ **ë‹¤ìŒ ì‘ì—…(Next Task)**ì„ íŒŒì•…í•œë‹¤.
ìˆœì„œë¥¼ ê±´ë„ˆë›°ì§€ ë§ ê²ƒ. ì˜ì¡´ì„±(Dependency)ì€ ìœ„ì—ì„œ ì•„ë˜ë¡œ íë¥¸ë‹¤.

4-0. Phase 0: Foundation & Service Accounts (GCP Ready)
Goal: GCP/OpenAI ì—°ë™ì„ ìœ„í•œ í´ë¼ì´ì–¸íŠ¸ ë° ë°ì´í„° ëª¨ë¸ ì¤€ë¹„.

[x] Update requirements.txt: google-cloud-aiplatform, discoveryengine, google-auth ì¶”ê°€.

[x] Create VertexAIClient: app/services/vertex_client.py (Gemini 3.0 Pro & Search ì—°ë™).

[x] Create OpenAIClient: app/services/openai_client.py (GPT-5.1 & Embedding ì—°ë™).

[x] Update Models:
    - Document: vertex_sync_status, group_id ì¶”ê°€.
    - AnswerCard: origin, status ì¶”ê°€.

DB & Schema Design

 Project Table ì‹ ì„¤: models/project.py ìƒì„± ë° projects í…Œì´ë¸” ë§ˆì´ê·¸ë ˆì´ì…˜

 AnswerCard Table ì—…ê·¸ë ˆì´ë“œ: answers â†’ models/answer.py

 anchors (JSONB) ì»¬ëŸ¼ ì¶”ê°€

 variants (JSONB) ì»¬ëŸ¼ ì¶”ê°€

 facts (JSONB) ì»¬ëŸ¼ ì¶”ê°€

 project_id (UUID) ì»¬ëŸ¼ ì¶”ê°€ (Origin Tracking)

 RFP Requirement Table ì‹ ì„¤: models/rfp_requirement.py

 Audit Log Table ì‹ ì„¤: models/audit_log.py

Legacy Code Refactoring

 Dependencies Update: olefile, pyhwp, pdfplumber ë“± íŒŒì‹± ê´€ë ¨ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì¶”ê°€

 Service Layer ë¶„ë¦¬: ê¸°ì¡´ services/ í´ë” ë¡œì§ì„
ingest, answers, search ë“± ì—­í• ë³„ë¡œ ì¬ì •ë¹„

4-1. Phase 1: Knowledge Hub Pipeline (Vertex AI) (Weeks 1-3)

Goal
"íŒŒì¼ ì—…ë¡œë“œ â†’ ì¶©ëŒ í•´ê²° â†’ Vertex Indexing â†’ AnswerCard Mining"ê¹Œì§€ì˜ íë¦„ ì™„ì„±.

Backend: Knowledge Hub Pipeline

[x] Update indexer.py: Vertex AI Search ì¸ë±ì‹± ë° ë™ê¸°í™” ë¡œì§ êµ¬í˜„.

[x] Update ingest.py: Knowledge Hub ì—…ë¡œë“œì™€ Project ì—…ë¡œë“œ ë¶„ê¸° ì²˜ë¦¬.

[x] Update search.py: Vertex AI Search + pgvector í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ êµ¬í˜„.

Backend: Ingestion & Parsing Engine

 Advanced Parser êµ¬í˜„: utils/pdf_hwp_parser.py

 PDF Layout/Section ì¶”ì¶œ ë¡œì§ (Best Effort)

 Semantic Hash(SHA256) ìƒì„± ë¡œì§

 Conflict Detection Service: services/ingest.py

ë‚ ì§œ/ë²„ì „ íŒŒì‹±

ë¬¸ì„œ ê°„ ìœ ì‚¬ë„ ë° ì¶©ëŒ ê°ì§€

ì‚¬ìš©ì ê°œì…ì´ í•„ìš”í•œ "Conflict List" ë¦¬í„´ API

Backend: Knowledge Management

 AnswerCard CRUD API: ì•µì»¤ì™€ Variantsë¥¼ í¬í•¨í•œ ìƒì„±/ì¡°íšŒ/ìˆ˜ì • API

 Fact-based Risk Gating: services/guardrail.py

Factsì™€ Variant ë‚´ìš©ì„ ë¹„êµí•˜ì—¬
Risk Level (Safe/High) íŒë³„í•˜ëŠ” OpenAI ê¸°ë°˜ LLM ë¡œì§

Frontend: Guided Onboarding UX

 Smart Uploader UI: íŒŒì¼ ì—…ë¡œë“œ ì‹œ ì‹¤ì‹œê°„ ë¶„ì„ ìƒíƒœ í‘œì‹œ

 Batch Conflict Resolver: ì—‘ì…€ ìŠ¤íƒ€ì¼ì˜ ì¶©ëŒ í•´ê²° í…Œì´ë¸” UI

 Dashboard Integration: ì˜¨ë³´ë”© ì™„ë£Œ í›„ ëŒ€ì‹œë³´ë“œë¡œ ìì—°ìŠ¤ëŸ½ê²Œ ì „í™˜

4-2. Phase 2: Proposal Engine & Optimization (Weeks 4-6)

Goal
ìì‚°í™”ëœ ì§€ì‹ì„ í™œìš©í•´ ì‹¤ì œ RFP ì œì•ˆì„œ ì´ˆì•ˆì„ ë§Œë“¤ê³ , ë¹„ìš©ì„ í†µì œí•˜ëŠ” ë‹¨ê³„.

Backend: RFP Processing

 [x] On-Demand Shredder: services/shredder.py

 Gemini 3.0 Pro ê¸°ë°˜ RFP Shredding ë¡œì§ êµ¬í˜„ (VertexAIClient í™œìš©)

 ë¹„ìš© ì‚°ì •(í† í° ê³„ì‚°) ë¡œì§ (Heuristic)

 [x] Proposal Assembly Engine: services/proposal.py

 OpenAIClient (GPT-5.1) ê¸°ë°˜ Wiring ì™„ë£Œ

 Requirement â†” AnswerCard ë§¤í•‘ ì•Œê³ ë¦¬ì¦˜

 Project & Requirement API: routes/projects.py ìƒì„± ë° ì—°ë™ (ê¸°ì¡´ êµ¬í˜„ ìœ ì§€)

Frontend: Proposal Editor

 [x] Requirement Mapper UI

RFP ìš”êµ¬ì‚¬í•­ê³¼ ë§¤ì¹­ëœ AnswerCardë¥¼ ë³´ì—¬ì£¼ëŠ” ë·°

ProjectWorkspacePageì™€ ì—°ë™ ì™„ë£Œ

4-3. Phase 3: Enterprise Hardening (Weeks 7+)

Goal
ë³´ì•ˆ, ê°ì‚¬, ê·¸ë¦¬ê³  ìš´ì˜ ì•ˆì •ì„± í™•ë³´.

Security & Audit

 Audit Log Recording:

ìŠ¹ì¸, ë°˜ë ¤, í¸ì§‘ ë“± ì£¼ìš” ì•¡ì…˜ ë°œìƒ ì‹œ ë¡œê·¸ ì €ì¥ ë¯¸ë“¤ì›¨ì–´ ì ìš©

AuditLogMiddleware êµ¬í˜„ ì™„ë£Œ

 RBAC (Role-Based Access Control):

Managerë§Œ ìŠ¹ì¸(Approve) ë²„íŠ¼ì„ ëˆ„ë¥¼ ìˆ˜ ìˆë„ë¡ ê¶Œí•œ ì œì–´

verify_manager_role ì ìš© ì™„ë£Œ

DevOps & Monitoring

 Cost Dashboard:

í”„ë¡œì íŠ¸ë³„ í† í° ì‚¬ìš©ëŸ‰ ë° ë¹„ìš© íŠ¸ë˜í‚¹

/admin/cost API êµ¬í˜„ ì™„ë£Œ (í˜„ì¬ëŠ” ë‹¨ìˆœ ì¶”ì • ë¡œì§)

 Anchor Health Check:

íŒŒì‹± ì‹¤íŒ¨ìœ¨ ë° ì•µì»¤ë§ ì„±ê³µë¥  ëª¨ë‹ˆí„°ë§

/admin/health/anchors API êµ¬í˜„ ì™„ë£Œ

4-4. ìµœì¢… ì™„ë£Œ ê¸°ì¤€ (Definition of Done)

ëª¨ë“  ì²´í¬ë°•ìŠ¤ê°€ [x]ê°€ ë˜ì—ˆì„ ë•Œ, ì•„ë˜ ê¸°ì¤€ì„ ìµœì¢… ê²€ìˆ˜í•œë‹¤.

 Migration Integrity

ê¸°ì¡´ ë°ì´í„°ì™€ ì‹ ê·œ ë°ì´í„°ê°€ ê³µì¡´í•˜ë©°,
ìƒˆë¡œìš´ Anchor êµ¬ì¡°ë¡œ ë§¤í•‘ë˜ëŠ”ê°€?

(Project/AnswerCard JSONB ìŠ¤í‚¤ë§ˆ í™•ì¸ ì™„ë£Œ)

 Conflict UX

ì¶©ëŒ í•´ê²°ì´ íŒì—… ë…¸ê°€ë‹¤ê°€ ì•„ë‹ˆë¼
Batch Resolverë¡œ ë§¤ë„ëŸ½ê²Œ ë™ì‘í•˜ëŠ”ê°€?

 Risk Gate

High Risk VariantëŠ” Approver ê¶Œí•œ ì—†ì´ëŠ” ìŠ¹ì¸ ë¶ˆê°€í•œê°€?

(RBAC ì ìš©ìœ¼ë¡œ Managerë§Œ ìŠ¹ì¸ ê°€ëŠ¥)

 Cost Control

ShreddingëŠ” ë°˜ë“œì‹œ **On-Demand(ë²„íŠ¼ í´ë¦­)**ë¡œë§Œ ì‹¤í–‰ë˜ëŠ”ê°€?

(APIì—ì„œ confirm_cost íŒŒë¼ë¯¸í„° ê°•ì œ í™•ì¸)

 Audit Trail

DB ì¡°íšŒ ì‹œ, ëˆ„ê°€ ì–¸ì œ ë¬´ì—‡ì„ ìŠ¹ì¸í–ˆëŠ”ì§€ ì¶”ì  ê°€ëŠ¥í•œê°€?

(AuditLogMiddleware ë° DB ì €ì¥ í™•ì¸ ì™„ë£Œ)

4-5. Phase 4: Wiring & Integration (The Missing Link)

Goal
"UI Shell"ê³¼ "Backend Logic"ì„ ì—°ê²°í•˜ì—¬ ì‹¤ì œ ë™ì‘í•˜ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ ì™„ì„±.

A. Project & Onboarding (ì‹œì‘í•˜ê¸°)

 [x] Create Project: LandingPage â†’ POST /projects

 [x] Upload File: OnboardingWizardPage â†’ POST /ingest/upload

 [x] Check Conflict: POST /ingest/check

 [x] Resolve Conflict: POST /ingest/resolve

 [x] Estimate Cost: POST /shredder/estimate

 [x] Trigger Analysis: POST /shredder/trigger

B. Workspace & Requirements (ì‘ì—… ê³µê°„)

 [x] List Requirements: GET /projects/{id}/requirements

 [x] View Detail: GET /requirements/{id}

 [x] Approve/Reject: PATCH /requirements/{id}/status

 [x] Edit Response: POST /requirements/{id}/response

 [x] Export: GET /projects/{id}/export

 [x] Delete Project: DELETE /projects/{id}

 Complete Project: PATCH /projects/{id}/status

 Add Member: POST /projects/{id}/members

C. Knowledge Hub (ì§€ì‹ ê´€ë¦¬)

 [x] List Answer Cards: GET /answers

 [x] Search Answer Cards: GET /answers/search

 [x] Update Answer Card: PATCH /answers/{id}

 [x] List Documents: GET /documents

 [x] Re-Parse Document: POST /documents/{id}/reindex

 [x] Delete Document: DELETE /documents/{id}

D. Admin & Settings (ê´€ë¦¬ì)

 Invite Member: POST /admin/invite

 List Members: GET /admin/members

 Update Role: PATCH /admin/members/{id}/role

 System Status: GET /admin/system/status

 Update Guardrails: POST /admin/guardrails

 Cost Dashboard: GET /admin/cost

4-6. Backend Implementation Gaps & Mock Audit (Current Status)

í˜„ì¬ BackendëŠ” Frontendì™€ì˜ ì—°ë™(Wiring)ì„ ìµœìš°ì„ ìœ¼ë¡œ êµ¬í˜„ë˜ì—ˆìœ¼ë©°,
ë‹¤ìŒ ê¸°ëŠ¥ë“¤ì€ Mock ë˜ëŠ” ë‹¨ìˆœí™”ëœ ë¡œì§ìœ¼ë¡œ êµ¬í˜„ë˜ì–´ ìˆë‹¤.
ì‹¤ì œ ìš´ì˜ í™˜ê²½ ë°°í¬ ì „ ë°˜ë“œì‹œ êµ¬í˜„ì´ í•„ìš”í•˜ë‹¤.

A. Admin & Settings (ê´€ë¦¬ì)

Guardrails (ê°€ë“œë ˆì¼)

Status: Implemented

Note: GuardrailPolicy í…Œì´ë¸” ë° DB ì—°ë™ ì™„ë£Œ

Cost Dashboard (ë¹„ìš© í†µê³„)

Status: Partial / Mock

Gap: GET /admin/costëŠ” AuditLogì˜ í–‰ ê°œìˆ˜ì—
ë‹¨ìˆœ ë‹¨ê°€(100ì›)ë¥¼ ê³±í•´ ê³„ì‚°

ì‹¤ì œ í† í° ì‚¬ìš©ëŸ‰(tokens_used) ê¸°ë¡ ë° ì§‘ê³„ ë¡œì§ ì—†ìŒ

System Status (ì‹œìŠ¤í…œ ìƒíƒœ)

Status: Mock

Gap: GET /admin/system/statusëŠ” í•˜ë“œì½”ë”© ìƒíƒœ ë°˜í™˜

ì‹¤ì œ ì¸í”„ë¼ ëª¨ë‹ˆí„°ë§ ì—°ë™ ì—†ìŒ

Member Management (ë©¤ë²„ ê´€ë¦¬)

Status: Implemented (Full)

Note: AppUser, ProjectMember ê¸°ë°˜ ë©¤ë²„ì‹­ ê´€ë¦¬ ë° ì ‘ê·¼ ì œì–´ êµ¬í˜„ ì™„ë£Œ

B. Projects & Requirements (í”„ë¡œì íŠ¸)

AI Suggestion (AI ì œì•ˆ)

Status: Implemented

Note: map_requirements_to_answersì—ì„œ
RAG(AnswerCard + Vertex) ë° OpenAI LLM ë¡œì§ êµ¬í˜„

Sources & Past Proposals

Status: Implemented

Note: AnswerCard anchors, past_proposals UI ì—°ë™ ì™„ë£Œ

C. Shredder & Ingest (ë¶„ì„ ë° ìˆ˜ì§‘)

Cost Estimation (ë¹„ìš© ì˜ˆì¸¡)

Status: Heuristic

Gap: calculate_shredding_costëŠ”
í…ìŠ¤íŠ¸ ê¸¸ì´/íŒŒì¼ í¬ê¸° ê¸°ë°˜ ë‹¨ìˆœ ì¶”ì •

ì‹¤ì œ LLM í† í¬ë‚˜ì´ì € ê¸°ë°˜ ì •í™• ê³„ì‚° ì•„ë‹˜

Conflict Resolution (ì¶©ëŒ í•´ê²°)

Status: Simplified

Gap: ì¶©ëŒ í•´ê²° ì‹œ í´ë¼ì´ì–¸íŠ¸ê°€ íŒŒì¼ì„ ë‹¤ì‹œ ì—…ë¡œë“œí•˜ëŠ”
Stateless ë°©ì‹ì„ ê°€ì •

ì„œë²„ ì¸¡ ì„ì‹œ ì €ì¥ì†Œ/ìºì‹œë¥¼ í™œìš©í•œ ìµœì í™” ì—¬ì§€ ìˆìŒ

D. Authentication & Groups (ì¸ì¦ ë° ê·¸ë£¹)

User Authentication (ì‚¬ìš©ì ì¸ì¦)

Status: Hardcoded

Gap: ì¼ë¶€ ëª¨ë“ˆì—ì„œ user_email, user_id í•˜ë“œì½”ë”© ì‚¬ìš©

ì‹¤ì œ JWT/Session ê¸°ë°˜ ì¸ì¦ ë¯¸ì ìš©

Section 5. UI - Backend Gap Analysis & Next Steps

ì„¹ì…˜ 5ëŠ” ì„¹ì…˜ 4ê¹Œì§€ì˜ ë‚´ìš©ì„ ë°”íƒ•ìœ¼ë¡œ
ì „ì²´ì ì¸ MVPë¥¼ ì™„ì„±í•œ ì´í›„ì— ì§„í–‰í•œë‹¤.

5-1. Frontend Ahead (UIëŠ” ìˆìœ¼ë‚˜ Backend ë¯¸êµ¬í˜„)

 Advanced Conflict Resolution API: ingest.py ê³ ë„í™”

ì¶©ëŒ ìœ í˜•(Version/Content/Metadata) ì„¸ë¶„í™”

Merge/Keep Old/Keep New ì•¡ì…˜ ì²˜ë¦¬ API

 Cost Pre-calculation API: shredder.py ê³ ë„í™”

ì—…ë¡œë“œ íŒŒì¼ ë¶„ëŸ‰ì„ ë¯¸ë¦¬ ë¶„ì„í•´ ì˜ˆìƒ ì‹œê°„/ë¹„ìš© ë¦¬í„´

 Detailed Citation History: AnswerCard ëª¨ë¸ ë³´ê°•

ë‹¨ìˆœ usage_countë¥¼ ë„˜ì–´,
ì–´ë–¤ í”„ë¡œì íŠ¸/ë¬¸ì„œ/í˜ì´ì§€ì—ì„œ ì¸ìš©ë˜ì—ˆëŠ”ì§€ ì¶”ì 

Read: GET /answers ì‘ë‹µì— past_proposals í¬í•¨

Write: POST /answers/{id}/usage ì—”ë“œí¬ì¸íŠ¸ ì¶”ê°€

 Dynamic Guardrail API: guardrail.py ì—°ë™

ê¸ˆì§€ì–´/High Risk í‚¤ì›Œë“œ ì„¤ì • API

 Workspace Member Management: admin.py & user.py

AppUser ëª¨ë¸ì— workspace, role, status ë“± í•„ë“œ ì¶”ê°€

ì´ˆëŒ€/ì¡°íšŒ/ê¶Œí•œ ë³€ê²½ API êµ¬í˜„ ë° UI ì—°ë™

 Knowledge Hub Wiring: answers.py & documents.py

GET /answers ì‘ë‹µ í¬ë§· í™•ì¥ (topic, summary, usageCount ë“±)

GET /documents/list ì‘ë‹µ í¬ë§· í™•ì¥ (parsingStatus, fileSize ë“±)

 Project Visibility & Membership

ProjectMember í…Œì´ë¸” ì‹ ì„¤

ìƒì„± ì‹œ ì‘ì„±ì ìë™ ë©¤ë²„ ì¶”ê°€

í”„ë¡œì íŠ¸ ëª©ë¡ ì¡°íšŒ ì‹œ ë©¤ë²„ì‹­ ê¸°ë°˜ í•„í„°ë§

5-2. Backend Requirements (Completed)

Folder Management API (Completed)

 POST /folders: ìƒˆ í´ë” ìƒì„±

 DELETE /folders/:id: í´ë” ì‚­ì œ (ìì‹ ë¬¸ì„œ cascade ì‚­ì œ)

 Document ëª¨ë¸ì— parent_id, is_folder í•„ë“œ ë°˜ì˜

Tree View API (Completed)

 GET /documents/tree: ê³„ì¸µ êµ¬ì¡° ë¬¸ì„œ íŠ¸ë¦¬ ë°˜í™˜

 POST /uploadê°€ folder_idë¥¼ ë°›ì•„ í•´ë‹¹ í´ë” ì•„ë˜ ë¬¸ì„œ ì €ì¥

5-3. Frontend-Backend Integration (Fixes)

ë¬¸ë§¥(Context)
ë¡œì»¬ í…ŒìŠ¤íŠ¸ ì¤‘ ì‚¬ìš©ë˜ë˜ Mock Data ì˜ì—­ì„ ì‹¤ì œ API ì—°ë™ìœ¼ë¡œ êµì²´í•œë‹¤.

 Answer Library Integration: AnswerLibraryPage.tsx

mockAnswers ì œê±°, GET /answers ì—°ë™

 Source Documents Integration: SourceDocumentsPage.tsx

mockDocuments ì œê±°, GET /documents ì—°ë™

Re-Parse, Delete ì—°ë™

 Projects List Integration: ProjectsPage.tsx

Mock ì œê±°, GET /projects ì—°ë™

ì§„í–‰ë¥ , ì¹´ë“œ ìˆ˜ ë“± í†µê³„ ë§¤í•‘

 RFP Upload Flow Fix: OnboardingWizardPage.tsx

í”„ë¡œì íŠ¸ ìƒì„± ì „ íŒŒì¼ ì—…ë¡œë“œ ì‹œ project_id ëˆ„ë½ ë¬¸ì œ í•´ê²°

project_id = Noneì¼ ê²½ìš° Default Workspace("personal") ì²˜ë¦¬ í™•ì¸

 Admin & Guardrails Verification

GET /admin/guardrails / GET /admin/members ì—°ë™

 Sidebar Project List: EnterpriseLayout.tsx

Mock ì œê±°, GET /projects ì—°ë™

Active/Completed ìƒíƒœ í•„í„°ë§

 Project Creation Flow: LandingPage.tsx

ìƒì„± í›„ /project/{id}/workspaceë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸

GET /projects/{id}ë¡œ ì‹¤ì œ ì •ë³´ í‘œì‹œ

 Document Management UI: SourceDocumentsPage.tsx

í´ë” ìƒì„±/ì´ë™/ì‚­ì œ ì—°ë™

í´ë” ìš°ì„ , ìµœì‹ ìˆœ ì •ë ¬ ë° ë‹¤ì¤‘ ì„ íƒ UI

Global Knowledge Hub ë¬¸ì„œ(group_id IS NULL)ë§Œ í‘œì‹œ

 Project Management Features

ì‚­ì œ, ì™„ë£Œ ì²˜ë¦¬, ë©¤ë²„ ì¶”ê°€ ê¸°ëŠ¥ êµ¬í˜„

ë§ˆê°ì¼/ì„¤ëª… í‘œì‹œ

AI ìƒì„± ë‹µë³€ Trust Score ê¸°ë³¸ê°’ 0.0 ì„¤ì •

 Feedback Fixes (Round 2)

RFP Extraction: shredder.pyê°€ Deadline/Summaryë¥¼ Projectì— ì €ì¥

Knowledge Hub Filtering: get_document_treeê°€ Global ë¬¸ì„œë§Œ ë°˜í™˜

Sidebar UI: í”„ë¡œì íŠ¸ ì‚­ì œ/ì™„ë£Œ Dropdown Menu ì¶”ê°€

File Handling Rule: ë¡œì»¬ íŒŒì¼ì€ í•­ìƒ Binary Mode(rb)ë¡œ ì½ê³ 
extract_text_pagesë¡œ ì „ë‹¬í•´ í¬ë§· ìë™ ê°ì§€

Section 6. ë°°í¬ ì¤€ë¹„ ë° ìš´ì˜ ì´ê´€ (Deployment & Operations)

ë¬¸ë§¥(Context)
MVP ê°œë°œì´ ì™„ë£Œë˜ì—ˆìœ¼ë©°, ì´ì œ â€œë‚´ ì»´í“¨í„°(Localhost)â€ì—ì„œë§Œ ëŒì•„ê°€ëŠ” ì½”ë“œë¥¼
â€œì‹¤ì œ ì‚¬ìš©ì(Production)â€ê°€ ì“¸ ìˆ˜ ìˆëŠ” í™˜ê²½ìœ¼ë¡œ ì˜®ê¸°ëŠ” ê³¼ì •ì´ë‹¤.

ë‹¨ìˆœíˆ ì„œë²„ì— ì½”ë“œë¥¼ ì˜¬ë¦¬ëŠ” ê²ƒì„ ë„˜ì–´, ë‹¤ìŒ 5ê°€ì§€ í•µì‹¬ ëª©í‘œë¥¼ ë‹¬ì„±í•œë‹¤.

í™˜ê²½ ê²©ë¦¬ (Environment Isolation)

ë°ì´í„° ì˜ì†ì„± (Data Persistence)

ì„±ëŠ¥ ìµœì í™” (Optimization)

ë³´ì•ˆ ê°•í™” (Security Hardening)

ìš´ì˜ ìë™í™” (CI/CD & Ops)

6-1. ì¸í”„ë¼ ì•„í‚¤í…ì²˜ ìŠ¤í™ (Infrastructure Specifications)

Compute: AWS App Runner (ê¸°ë³¸ê°’)
ê°™ì€ AWS ê³„ì •/VPC ë‚´ì—ì„œ ECS Fargateë¡œ ì´ì „ ê°€ëŠ¥í•œ êµ¬ì¡° ìœ ì§€.

A. Computing (AWS/Cloud)

Frontend: S3 Static Website Hosting + CloudFront (CDN)

Backend: AWS App Runner (FastAPI ì»¨í…Œì´ë„ˆ)

ECR ì´ë¯¸ì§€ ê¸°ë°˜ ë°°í¬

ìë™ ìŠ¤ì¼€ì¼ë§, í—¬ìŠ¤ì²´í¬, ë¡¤ë§ ë°°í¬

Gateway / Endpoint: App Runner Custom Domain (+ AWS ACM)

Route 53 ë„ë©”ì¸ â†’ App Runner ì„œë¹„ìŠ¤ ë§¤í•‘

í•„ìš” ì‹œ CloudFront ë˜ëŠ” ALB + WAF ì¶”ê°€

B. Data & Storage

Database: AWS RDS for PostgreSQL (v15+)

ìŠ¤í™: db.t3.medium ì´ìƒ, Multi-AZ ê¶Œì¥

Extensions: pgvector, pg_trgm

Private Subnet, App Runner VPC Connectorë¡œ ì ‘ê·¼

Object Storage: AWS S3 Standard

/raw/{project_id}/{file_id}, /parsed/... êµ¬ì¡°

Public Access Block í™œì„±í™”

Presigned URLì„ í†µí•´ì„œë§Œ ì ‘ê·¼

VPC & ë„¤íŠ¸ì›Œí¬

RDS/ë‚´ë¶€ ë¦¬ì†ŒìŠ¤: Private Subnet

App Runner: VPC Connectorë¡œ ë‚´ë¶€ ë¦¬ì†ŒìŠ¤ ì ‘ê·¼

ì¸ë°”ìš´ë“œ: App Runner HTTPS (ë˜ëŠ” CloudFront/ALB)ë¡œë§Œ í—ˆìš©

6-2. ë°°í¬ íŒŒì´í”„ë¼ì¸ ë¡œì§ (Deployment Pipeline)

Step 1 â€“ Code Push & Test (CI)

main ë¸Œëœì¹˜ í‘¸ì‹œ â†’ GitHub Actions íŠ¸ë¦¬ê±°

pytestë¡œ í•µì‹¬ ë¡œì§ í…ŒìŠ¤íŠ¸

MyPy/Ruff ë“± Linting

ì‹¤íŒ¨ ì‹œ ë°°í¬ ì¤‘ë‹¨

Step 2 â€“ Container Build

Docker ì´ë¯¸ì§€ ë¹Œë“œ:

backend:{git_sha}, backend:latest íƒœê·¸

AWS ECRì— Push

Step 3 â€“ App Runner Service Update (CD)

Terraform/CDKë¡œ ì¸í”„ë¼ ìƒíƒœ ê´€ë¦¬

App Runnerê°€ ìƒˆë¡œìš´ ECR íƒœê·¸ë¥¼ ì°¸ì¡°í•˜ë„ë¡ ì—…ë°ì´íŠ¸

í—¬ìŠ¤ì²´í¬ ì‹¤íŒ¨ ì‹œ ìë™/ìˆ˜ë™ ë¡¤ë°±

Step 4 â€“ Migration & Health Check

ë°°í¬ ì§í›„:

alembic upgrade head ìë™ ì‹¤í–‰

/health ì—”ë“œí¬ì¸íŠ¸ 200 OK í™•ì¸

ì„±ê³µ ì‹œ:

Slack/Teams Webhook â€œë°°í¬ ì™„ë£Œâ€ ì•Œë¦¼

ì‹¤íŒ¨ ì‹œ:

ì§ì „ ì´ë¯¸ì§€ë¡œ ë¡¤ë°±

6-3. Environment & Security Configuration (Milestone)

A. Secret Management

.envëŠ” Dev/Prod ë¶„ë¦¬.

Prodì—ì„œëŠ” .env ëŒ€ì‹ :

AWS SSM Parameter Store / Secrets Manager ì‚¬ìš©

DB URL, OpenAI API Key, JWT Secret, GCP ê´€ë ¨ ì„¤ì • ë“± ëª¨ë‘ Secretìœ¼ë¡œ ê´€ë¦¬

App Runnerì—ëŠ” Secrets ì—°ë™ ê¸°ëŠ¥ìœ¼ë¡œ ENV ì£¼ì…

ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ ë‚´ë¶€ì— .envë¥¼ êµ½ì§€ ì•ŠëŠ”ë‹¤.

B. Cross-Cloud Auth: AWS â†” GCP (Keyless ì›ì¹™)

ìš´ì˜/ìŠ¤í…Œì´ì§• í™˜ê²½ì—ì„œ:

GCP Service Account JSON Key íŒŒì¼ì„ ì´ë¯¸ì§€/ì½”ë“œ/.envì— ì €ì¥ ê¸ˆì§€

ëŒ€ì‹ :

AWS IAM Role â†” GCP Service Account ê°„
Workload Identity Federation êµ¬ì„±

App Runnerê°€ ë¶€ì—¬ë°›ì€ AWS ìê²©ì„ í†µí•´
Vertex/Gemini APIë¥¼ í˜¸ì¶œ (Keyless ì¸ì¦)

ë¡œì»¬ ê°œë°œ í™˜ê²½:

gcloud ë¡œê·¸ì¸ ë˜ëŠ” ë‹¨ê¸° í…ŒìŠ¤íŠ¸ìš© í‚¤ ì‚¬ìš© ê°€ëŠ¥

ë‹¨, í•´ë‹¹ í‚¤ëŠ” Git/Docker/ê³µìœ  ìŠ¤í† ë¦¬ì§€ì— ì»¤ë°‹/ì—…ë¡œë“œ ê¸ˆì§€

C. CORS & Allowed Origins

í”„ë¡ íŠ¸ì—”ë“œ ë„ë©”ì¸(ì˜ˆ: https://app.rfp-os.com)ë§Œ í—ˆìš©

OPTIONS Preflightì— ëŒ€í•´ FastAPIì—ì„œ ëª…ì‹œì  í—ˆìš©

ìŠ¤í…Œì´ì§• ë„ë©”ì¸ë„ í•„ìš” ì‹œ ì¶”ê°€í•˜ë˜, * ì™€ì¼ë“œì¹´ë“œëŠ” ì§€ì–‘

D. SSL/TLS Setup

Route 53ì—ì„œ ë„ë©”ì¸ ê´€ë¦¬

AWS Certificate Manager(ACM)ìœ¼ë¡œ TLS ì¸ì¦ì„œ ë°œê¸‰

App Runner Custom Domain ë˜ëŠ” CloudFront/ALBì— ì¸ì¦ì„œ ì—°ê²°

ëª¨ë“  ì™¸ë¶€ íŠ¸ë˜í”½ì„ HTTPSë¡œ ê°•ì œ

6-4. Database & Storage (Milestone)

Production DB Setup

ë¡œì»¬/í…ŒìŠ¤íŠ¸ DB â†’ AWS RDS(PostgreSQL)ë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜

project, answer_card, rfp_requirement, audit_log í…Œì´ë¸” ë°
ì¸ë±ìŠ¤/í™•ì¥(pgvector, pg_trgm) ì„¤ì • í™•ì¸

DB Backup Strategy

RDS ìë™ ë°±ì—…(ì¼/ì£¼ ë‹¨ìœ„) ë° ë³´ì¡´ ê¸°ê°„ ì„¤ì •

ì¤‘ëŒ€ ë³€ê²½ ì „ ìˆ˜ë™ ìŠ¤ëƒ…ìƒ· ì •ì±…

ë¶„ê¸°/ë°˜ê¸°ë§ˆë‹¤ â€œë³µêµ¬ ë¦¬í—ˆì„¤â€ ìˆ˜í–‰

S3 Bucket Policy

ìš´ì˜ìš© / ê°œë°œ/ìŠ¤í…Œì´ì§•ìš© ë²„í‚· ë¶„ë¦¬

Public Access Block + ìµœì†Œ ê¶Œí•œ IAM Role(rfp-backend-s3-role)

Lifecycle ì •ì±…:

ì¤‘ê°„ ì‚°ì¶œë¬¼ì€ Nì¼ í›„ Glacier ë˜ëŠ” ì‚­ì œ

ì›ë³¸ RFP ë¬¸ì„œëŠ” ì¥ê¸° ë³´ê´€

6-5. Backend Deployment (Milestone)

Dockerfile Optimization

Multi-stage buildë¡œ ì´ë¯¸ì§€ ê²½ëŸ‰í™”

ë¹Œë“œ ë„êµ¬/í…ŒìŠ¤íŠ¸ ì˜ì¡´ì„±ì€ ìµœì¢… ì´ë¯¸ì§€ì—ì„œ ì œê±°

/healthëŠ” ê²½ëŸ‰ ë¡œì§ ìœ ì§€

Gunicorn/Uvicorn Config

ì›Œì»¤ ìˆ˜, íƒ€ì„ì•„ì›ƒ, Keep-alive ë“± ì ì • ì„¤ì •

FastAPI + Uvicorn/Gunicorn ì¡°í•© ê¸°ì¤€

App Runner Service Config

ì´ˆê¸°ì—ëŠ” ì†Œí˜• ë¦¬ì†ŒìŠ¤ë¡œ ì‹œì‘ í›„ ëª¨ë‹ˆí„°ë§ ê¸°ë°˜ ì¦ì„¤

Auto Scaling:

ìµœì†Œ/ìµœëŒ€ ë™ì‹œ ìš”ì²­ ìˆ˜ ë° ì¸ìŠ¤í„´ìŠ¤ ìˆ˜ ì„¤ì •

Health Check:

ê²½ë¡œ: /health

í—ˆìš© ì‘ë‹µ ì‹œê°„/ì‹¤íŒ¨ í—ˆìš© íšŸìˆ˜ ì •ì˜

(ì˜µì…˜) Reverse Proxy / WAF ì—°ë™

ì´ˆê¸° MVP: App Runner ì—”ë“œí¬ì¸íŠ¸ ì§ì ‘ ì‚¬ìš©

í–¥í›„:

CloudFront ë˜ëŠ” ALB + WAFë¥¼ ì•ë‹¨ì— ë‘ì–´
IP ì œí•œ, Rate Limiting, Geo Blocking ë“± ì ìš©

6-6. Frontend Deployment (Milestone)

Production Build

npm run build ì‹œ Minification, Tree Shaking

Source Mapì€ Prodì—ì„œ ë¹„í™œì„± ë˜ëŠ” ë³´í˜¸ëœ ê²½ë¡œì—ë§Œ ë³´ê´€

Serving Strategy

ë¹Œë“œ ì‚°ì¶œë¬¼ì„ S3 ë²„í‚·(ì •ì  í˜¸ìŠ¤íŒ… ì „ìš©)ì— ì—…ë¡œë“œ

CloudFrontë¡œ ì „ ì„¸ê³„ ì—£ì§€ì—ì„œ ìºì‹±/ì„œë¹™

CloudFront Originì€ í•´ë‹¹ S3 ë²„í‚·

Cache Control

JS/CSS ë“± ì •ì  ìì‚°:

íŒŒì¼ëª…ì— í•´ì‹œ í¬í•¨, ì¥ê¸° ìºì‹±(max-age) í—ˆìš©

HTML:

ì§§ì€ ìºì‹œ ë˜ëŠ” no-cache ì •ì±… ìœ ì§€

6-7. CI/CD & Monitoring (Milestone)

GitHub Actions

main ë¸Œëœì¹˜ í‘¸ì‹œ ì‹œ:

ë°±ì—”ë“œ: í…ŒìŠ¤íŠ¸ â†’ Docker Build â†’ ECR Push â†’ App Runner Update

í”„ë¡ íŠ¸ì—”ë“œ: í…ŒìŠ¤íŠ¸ â†’ npm run build â†’ S3 Sync â†’ CloudFront Invalidation

Log Aggregation

App Runner ë¡œê·¸ë¥¼ CloudWatch Logsë¡œ ìˆ˜ì§‘

ì—ëŸ¬ìœ¨, ì‘ë‹µ ì‹œê°„, ìš”ì²­ ìˆ˜ ì§€í‘œ ëŒ€ì‹œë³´ë“œí™”

í•„ìš” ì‹œ Sentry/Datadog ë“±ê³¼ ì—°ë™

Health Check Monitoring

/healthì— ëŒ€í•œ ì£¼ê¸°ì  ëª¨ë‹ˆí„°ë§ (CloudWatch Synthetics ë“±)

ì‹¤íŒ¨ ì‹œ Slack/Teams/Webhook ì•Œë¦¼

App Runner, RDS, S3, ë¹„ìš© ì§€í‘œì— ëŒ€í•œ ì•ŒëŒ ì„¸íŠ¸ êµ¬ì„±

ì˜ˆ: RDS CPU 80% ì´ìƒ ì§€ì†, 5xx ì¦ê°€, ì›”ê°„ ë¹„ìš© ê¸‰ì¦ ë“±